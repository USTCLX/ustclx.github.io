<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>herrycodelee blog</title>
  
  
  <link href="http://yoursite.com/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-10-24T03:40:44.659Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Xiang Li</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ•´ç†è‹±è¯­å­¦ä¹ èµ„æº</title>
    <link href="http://yoursite.com/2021/10/23/%E6%95%B4%E7%90%86%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/"/>
    <id>http://yoursite.com/2021/10/23/%E6%95%B4%E7%90%86%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/</id>
    <published>2021-10-23T04:20:18.000Z</published>
    <updated>2021-10-24T03:40:44.659Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èµ„æºæ•´ç†"><a href="#èµ„æºæ•´ç†" class="headerlink" title="èµ„æºæ•´ç†"></a>èµ„æºæ•´ç†</h2><p>ç›®å‰æ”¶é›†äº†å¾ˆå¤šçš„è‹±è¯­å­¦ä¹ èµ„æºï¼Œåœ¨å›½å†…çš„æ—¶å€™æ›´å¤šçš„æ˜¯å•çº¯çš„å­¦ä¹ ï¼Œè€Œæ¥åˆ°æ–°åŠ å¡åæœ‰äº†å¾ˆå¤šçš„å®æˆ˜åœºæ™¯ï¼Œé™¤äº†æ—¥å¸¸çš„ç§¯ç´¯å¤–ï¼Œè¿˜æ˜¯éœ€è¦ä¸€äº›ç³»ç»Ÿæ€§çš„å­¦äº› lahï¼ğŸ¤ª</p><ul><li>æ–¹æ³•è®º<ul><li><a href="https://github.com/byoungd/English-level-up-tips-for-Chinese" target="_blank" rel="noopener">English leval up tips for chinese</a></li></ul></li><li>APP<ul><li><a href="">å¼€è¨€è‹±è¯­</a></li><li><a href="">è‹±è¯­æµåˆ©è¯´</a></li></ul></li><li>è§†é¢‘<ul><li><a href="https://www.bilibili.com/video/BV1wM4y137kP" target="_blank" rel="noopener">äº”åˆ†é’Ÿè‹±è¯­åŸºç¡€è¯­æ³•</a></li><li><a href="https://www.bilibili.com/video/BV1aM4y1g7mj" target="_blank" rel="noopener">å¤–æ•™ Gill è‹±è¯­ç²¾å“è¯¾</a></li><li><a href="https://www.bilibili.com/video/BV1cM4y1V7t1" target="_blank" rel="noopener">è¯´ä¸€å£æµåˆ©æ ‡å‡†è‹±è¯­</a></li><li><a href="https://bilibili.com/video/BV1zy4y1b7jZ" target="_blank" rel="noopener">English with Lucy</a></li></ul></li><li>B ç«™ UP ä¸»<ul><li><a href="https://space.bilibili.com/454755309" target="_blank" rel="noopener">Youtobe å£è¯­ç²¾é€‰</a></li><li><a href="https://space.bilibili.com/483301783" target="_blank" rel="noopener">Youtobe è‹±è¯­ç²¾é€‰</a></li><li><a href="https://space.bilibili.com/6926237/" target="_blank" rel="noopener">Youtobe å¬åŠ›ç²¾é€‰</a></li><li><a href="https://space.bilibili.com/1589382178" target="_blank" rel="noopener">Bigshot è‹±è¯­</a></li></ul></li><li>Youtobe<ul><li><a href="https://www.youtube.com/c/EnglishwithLucy/featured" target="_blank" rel="noopener">English with Lucy</a></li><li><a href="https://www.youtube.com/user/theteachervanessa" target="_blank" rel="noopener">Speak English With Vanessa</a></li></ul></li><li>å…¬ä¼—å·<ul><li><a href="">è‹±è¯­èµ„æºå­¦ä¹ ä¸­å¿ƒ</a></li></ul></li><li>Podcast<ul><li><a href="">æ½˜å‰ JENNY å‘Šè¯‰ä½ </a></li><li><a href="">ALL EARS ENGLISH</a></li><li><a href="">è‹±æ–‡å°é…’é¦† LHH</a></li><li><a href="">ä¸€å¸­è‹±è¯­</a></li><li><a href="">6 Minute English</a></li></ul></li></ul><h2 id="è®¡åˆ’"><a href="#è®¡åˆ’" class="headerlink" title="è®¡åˆ’"></a>è®¡åˆ’</h2><p>æŸæ¬¡å¶ç„¶çš„æœºä¼šå¬åˆ°äº†<code>æ½˜å‰ JENNY å‘Šè¯‰ä½ </code>è¿™æ¬¾æ’­å®¢ï¼Œæ„Ÿè§‰è¿™ç§ä¸­è‹±å¯¹è¯èŠå¤©çš„å½¢å¼å¾ˆæœ‰æ„æ€ï¼Œæ¯æœŸä¸€ä¸ªè¯é¢˜ï¼Œé™¤äº†å­¦ä¹ è‹±è¯­ï¼Œè¿˜å¯ä»¥çŸ¥é“ä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚<br>ç»§è€Œå¼€å§‹ä½¿ç”¨ä»–ä»¬å…¬å¸å¼€å‘çš„<code>å¼€è¨€è‹±è¯­</code>Appï¼Œä½¿ç”¨äº†å¤–äº¤è§†é¢‘è¯¾ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ ¹æ®å…·ä½“çš„åœºæ™¯æ¥å­¦ä¹ è‹±è¯­ã€‚</p><p>å…¶ä»–èµ„æºè‡ªç„¶æ˜¯å±¯èµ·æ¥æ‰æœ‰å®‰å…¨æ„Ÿ lahï¼è¿˜éƒ½æ²¡å¼€å§‹çœ‹ ğŸ¤ªã€‚</p><p>æ’­å®¢æ‰“ç®—é¢å¤–é€‰æ‹©ä¸€ä¸ª<code>ä¸€å¸­è‹±è¯­</code>ï¼Œå†ä»è§†é¢‘é‡Œé€‰æ‹©<code>è¯´ä¸€å£æµåˆ©æ ‡å‡†è‹±è¯­</code>æŠŠå®ƒåŠäº† ğŸ’ªï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;èµ„æºæ•´ç†&quot;&gt;&lt;a href=&quot;#èµ„æºæ•´ç†&quot; class=&quot;headerlink&quot; title=&quot;èµ„æºæ•´ç†&quot;&gt;&lt;/a&gt;èµ„æºæ•´ç†&lt;/h2&gt;&lt;p&gt;ç›®å‰æ”¶é›†äº†å¾ˆå¤šçš„è‹±è¯­å­¦ä¹ èµ„æºï¼Œåœ¨å›½å†…çš„æ—¶å€™æ›´å¤šçš„æ˜¯å•çº¯çš„å­¦ä¹ ï¼Œè€Œæ¥åˆ°æ–°åŠ å¡åæœ‰äº†å¾ˆå¤šçš„å®æˆ˜åœºæ™¯ï¼Œé™¤äº†æ—¥å¸¸çš„ç§¯ç´¯å¤–ï¼Œè¿˜æ˜¯éœ€è¦ä¸€</summary>
      
    
    
    
    
    <category term="è‹±è¯­å­¦ä¹ " scheme="http://yoursite.com/tags/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•èµ„æºæ•´ç†</title>
    <link href="http://yoursite.com/2021/10/20/%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95%E8%B5%84%E6%BA%90/"/>
    <id>http://yoursite.com/2021/10/20/%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95%E8%B5%84%E6%BA%90/</id>
    <published>2021-10-20T11:18:43.000Z</published>
    <updated>2021-10-24T03:40:44.659Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ‰“ç®—å†ä¸€æ¬¡ç³»ç»Ÿçš„å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œå¹¶å†æ¬¡å¼€å§‹æœ‰èŠ‚å¥çš„åˆ· leetcodeã€‚åŠŸåœ¨å¹³æ—¶ï¼Œæœ‰å¤‡æ— æ‚£ï¼Œåœ¨è¿˜æ²¡æœ‰ç†Ÿç»ƒæŒæ¡ä¹‹å‰ï¼Œå­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•å’Œåˆ·é¢˜å¿…ç„¶æ˜¯ä¸€ä¸ªé•¿æœŸçš„è¿‡ç¨‹ã€‚</p><h2 id="èµ„æºæ•´ç†"><a href="#èµ„æºæ•´ç†" class="headerlink" title="èµ„æºæ•´ç†"></a>èµ„æºæ•´ç†</h2><p>ç›®å‰æ‰‹å¤´ä¸ŠæŒæ¡çš„èµ„æºæŒºå¤šï¼Œå¯çœŸæ­£è€ä¸‹å¿ƒçœ‹å®Œçš„æ²¡æœ‰å‡ ä¸ªã€‚å¾ˆå¤šéƒ½æ˜¯çœ‹åˆ°ä¹‹åï¼Œéšæ‰‹å°±ä¸¢è¿›äº†æ”¶è—å¤¹é‡Œåƒç°ï¼ˆä¼—æ‰€å‘¨çŸ¥ï¼Œæ”¶è—å°±ç­‰äºå­¦ä¼šäº† ğŸ¤ªï¼‰ã€‚</p><ul><li>åœ¨çº¿ä¹¦ç±<ul><li><a href="https://labuladong.github.io/algo" target="_blank" rel="noopener">labuladong ç®—æ³•å°æŠ„</a></li><li><a href="https://www.pzijun.cn/algorithms" target="_blank" rel="noopener">ç“¶å­å›çš„ç®—æ³•å°ä¹¦</a></li><li><a href="https://github.com/chefyuan/algorithm-base" target="_blank" rel="noopener">ç¨‹åºå¨çš„åŠ¨ç”»ç®—æ³•</a></li><li><a href="https://books.halfrost.com/leetcode" target="_blank" rel="noopener">leetcode cookbook</a></li></ul></li><li>æå®¢æ—¶é—´<ul><li><a href="https://time.geekbang.org/course/detail/100019701-67635" target="_blank" rel="noopener">ç®—æ³•é¢è¯•é€šè¿‡ 40 è®²</a></li><li><a href="https://time.geekbang.org/column/article/76207" target="_blank" rel="noopener">æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</a></li><li><a href="https://time.geekbang.org/opencourse/intro/100057601" target="_blank" rel="noopener">å¸¸ç”¨ç®—æ³• 25 è®²</a></li></ul></li><li>è§†é¢‘<ul><li><a href="">ç™¾åº¦äº‘-ç®—æ³•è®­ç»ƒè¥</a></li><li><a href="https://space.bilibili.com/525438321/video" target="_blank" rel="noopener">ä»£ç éšæƒ³å½•</a></li><li><a href="https://www.bilibili.com/video/BV1E741157bP" target="_blank" rel="noopener">æ¸…åå¤§å­¦æ•°æ®ç»“æ„ç²¾å“è¯¾-é‚“ä¿Šè¾‰</a></li><li><a href="https://www.bilibili.com/video/BV1m54y1t7F7/" target="_blank" rel="noopener">å·¦ç¨‹äº‘ LeetCode åˆ·é¢˜ç¬”è®°</a></li></ul></li><li>github<ul><li><a href="https://github.com/yuanguangxin/LeetCode" target="_blank" rel="noopener">LeetCode é¢˜ç›®åˆ†ç±»ä¸é¢è¯•é—®é¢˜æ•´ç†</a></li><li><a href="https://github.com/labuladong/fucking-algorithm" target="_blank" rel="noopener">Fucking Algorithm(åŒ labuladong ç®—æ³•å°æŠ„)</a></li><li><a href="https://github.com/dongxiaohuang/leetcode_solutions" target="_blank" rel="noopener">LeetCode Classify</a></li><li><a href="https://github.com/imarvinle/awesome-cs-books" target="_blank" rel="noopener">Awesome CS Books</a></li><li><a href="https://github.com/jwasham/coding-interview-university" target="_blank" rel="noopener">Coding Interview University</a></li><li><a href="https://github.com/MisterBooo/LeetCodeAnimation" target="_blank" rel="noopener">LeetCode Animation</a></li><li><a href="https://github.com/doocs/leetcode" target="_blank" rel="noopener">LeetCode å…¨è§£</a></li></ul></li><li>ä¹¦ç±<ul><li><a href="">å‰‘æŒ‡ offer</a></li><li><a href="">ç¼–ç¨‹ä¹‹ç¾</a></li></ul></li></ul><h2 id="æŒ‘é€‰"><a href="#æŒ‘é€‰" class="headerlink" title="æŒ‘é€‰"></a>æŒ‘é€‰</h2><p>èµ„æ–™æ•´ç†äº†å¥½å¤šï¼Œä½†æ˜¯ä¹‹å‰æ²¡æœ‰ç³»ç»Ÿçš„é’»ç ”è¿‡ã€‚é™¤äº†é¢è¯•å‰çœ‹çš„ã€Šç®—æ³•é¢è¯•é€šå…³ 40 è®²ã€‹å’Œã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹,å‰è€…å±äºè§†é¢‘ç±»ï¼Œåè€…å±äºå°å†Œç±»ã€‚</p><p>èµ„æ–™å¤ªå¤šï¼Œä¸å¯èƒ½ä¸€æ¬¡å…¨éƒ¨æå®Œï¼Œæ²¡æœ‰è®¡åˆ’ï¼Œå¾ˆå®¹æ˜“ä»–ä»¬å°±é›†ä½“åƒç°äº†ï¼Œè¿˜æ˜¯éœ€è¦é€ä¸ªå‡»ç ´ã€‚è¿™æ¬¡å†³å®šä»ä¼—å¤šèµ„æ–™ä¸­ï¼ŒæŒ‘å‡ºä¸¤ä¸ªï¼Œä¸€ä¸ªæ–‡å­—é˜…è¯»ç±»ï¼Œä¸€ä¸ªè§†é¢‘ç±»ï¼Œäº’ä¸ºè¡¥å……çš„æ¥å­¦ä¹ ã€‚</p><ul><li>labuladong ç®—æ³•å°æŠ„</li><li>ç™¾åº¦äº‘-ç®—æ³•è®­ç»ƒè¥</li></ul><h2 id="è®¡åˆ’"><a href="#è®¡åˆ’" class="headerlink" title="è®¡åˆ’"></a>è®¡åˆ’</h2><p>ä» labuladong ç®—æ³•å°æŠ„ä¸­ï¼Œä»å¤´åˆ°å°¾ï¼ŒæŒ‰ç…§ä¸“é¢˜ï¼Œæ¯ä¸¤å¤©åšä¸€é“é¢˜ç›®ï¼Œå¦‚æœé‡åˆ°ç®€å•çš„åšè¿‡çš„ï¼Œå°±é¡ºåŠ¿åšåˆ°ä¸‹ä¸€é¢˜ã€‚é‡åˆ°å¤æ‚çš„æ¦‚å¿µå’Œå›°éš¾çš„é¢˜ç›®ï¼Œå¯ä»¥ç»“åˆç®—æ³•è®­ç»ƒè¥è§†é¢‘æ¥æ¶ˆåŒ–ã€‚</p><p>2021/10/20 æ˜ŸæœŸä¸‰</p><h2 id="åé¦ˆ"><a href="#åé¦ˆ" class="headerlink" title="åé¦ˆ"></a>åé¦ˆ</h2><p>è¿™é‡Œç­‰å¾…åé¦ˆï¼Œå¦‚æœ labuladong ç®—æ³•å°æŠ„è¿‡äº†ä¸€éï¼Œå†æ¥è¿™ç¯‡ blog è®°å½•ä¸‹æˆåŠŸçš„æ—¶é—´ã€‚</p><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘æ‰“ç®—å†ä¸€æ¬¡ç³»ç»Ÿçš„å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œå¹¶å†æ¬¡å¼€å§‹æœ‰èŠ‚å¥çš„åˆ· leetcodeã€‚åŠŸåœ¨å¹³æ—¶ï¼Œæœ‰å¤‡æ— æ‚£ï¼Œåœ¨è¿˜æ²¡æœ‰ç†Ÿç»ƒæŒæ¡ä¹‹å‰ï¼Œå­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•å’Œåˆ·é¢˜å¿…ç„¶æ˜¯ä¸€ä¸ªé•¿æœŸçš„è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;h2 id=&quot;èµ„æºæ•´ç†&quot;&gt;&lt;a href=&quot;#èµ„æºæ•´ç†&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Mac å®‰è£…å’Œå¯åŠ¨MySQLæ•°æ®åº“</title>
    <link href="http://yoursite.com/2021/10/19/Mac-%E5%AE%89%E8%A3%85%E5%92%8C%E5%90%AF%E5%8A%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <id>http://yoursite.com/2021/10/19/Mac-%E5%AE%89%E8%A3%85%E5%92%8C%E5%90%AF%E5%8A%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/</id>
    <published>2021-10-19T11:05:29.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å­¦ä¹  NestJS æ¡†æ¶ï¼Œéœ€è¦ä½¿ç”¨ MySQL æ•°æ®åº“æ¥é…åˆå®Œæˆä¸€äº›åŠŸèƒ½ï¼Œä»¥å‰åªä½¿ç”¨è¿‡ MongoDBï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ MySQLï¼Œåœ¨å®‰è£…å’Œä½¿ç”¨æ—¶è¸©äº†ä¸€äº›å‘ï¼Œè®°å½•ä¸‹æ¥ã€‚</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>MySQL åˆ†ä¸ºå•†ä¸šç‰ˆå’Œç¤¾åŒºç‰ˆï¼Œç¤¾åŒºç‰ˆæˆ‘ç†è§£å°±æ˜¯å¼€æºå…è´¹çš„ã€‚ä½†æ˜¯åœ¨å®˜ç½‘æƒ³è¦æ‰¾åˆ°ä¸‹è½½å…¥å£æ¯”è¾ƒè´¹åŠ²ï¼Œä¸ªäººæ„Ÿè§‰ä¸æ˜¯æ¸…æ™°ã€‚ä¸‹è½½ç¤¾åŒºç‰ˆå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªé“¾æ¥ã€‚<br><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">MySQL Community Download</a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä¸‹è½½å®Œæˆåï¼Œç›´æ¥åŒå‡» dmg æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è¾“å…¥è¾“å…¥ root çš„å¯†ç ï¼Œè¿™é‡Œéœ€è¦è®°ä¸‹æ¥ã€‚åé¢é“¾æ¥æ•°æ®åº“çš„æ—¶å€™éœ€è¦ä½¿ç”¨ã€‚</p><p><img src="/images/mysql_install.png" alt="mysql_install"></p><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>ä¸ºäº†å¯åŠ¨ MySQL æˆ‘èµ°äº†ä¸å°‘å¼¯è·¯ï¼Œä¸€å¼€å§‹ä½¿ç”¨å‘½ä»¤è¡Œæ¥å¯åŠ¨ï¼Œç»“æœå¾ˆéº»çƒ¦ï¼Œä¹Ÿæ²¡æœ‰æˆåŠŸå¯åŠ¨ã€‚åæ¥å‘ç°å…¶å® MySQL å¾ˆäººæ€§åŒ–ï¼Œå®ƒä¼šåœ¨ System Perference é‡Œé¢ç”Ÿæˆä¸€ä¸ªå›¾æ ‡ï¼Œç‚¹å‡»å›¾æ ‡åå°±å¯è¿›è¡Œä¸€äº›åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬</p><ul><li>start</li><li>stop</li><li>initialize</li></ul><p><img src="/images/mysql_perference_1.png" alt="mysql_perference_1"><br><img src="/images/mysql_perference_2.png" alt="mysql_perference_2"></p><h2 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h2><p>å»ºè®®ç›´æ¥ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢æ¥æ“ä½œï¼Œä½¿ç”¨å‘½ä»¤è¡Œå¤ªéº»çƒ¦äº†ã€‚å›¾å½¢åŒ–ç•Œé¢æœ‰ä¸¤ä¸ªé€‰æ‹©ä¸€ä¸ªæ˜¯æ”¶è´¹çš„<code>Navicat</code>ï¼Œä¸€ä¸ªæ˜¯å¼€æºå…è´¹çš„<code>Sequel Pro</code>ã€‚<br>ç¬”è€…ä¸€å¼€å§‹è¯•ç”¨è¿‡<code>Navicat</code>ï¼Œç¡®å®éå¸¸å¥½ç”¨ï¼Œé‰´äºå¹³æ—¶éœ€æ±‚ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰æ‰“ç®—ä»˜è´¹ä½¿ç”¨ã€‚äºæ˜¯é€‰æ‹©äº†<code>Sequel Pro</code>ã€‚</p><p>åœ¨ä½¿ç”¨<code>Sequel Pro</code>çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚æœ€å¼€å§‹ä¸‹è½½çš„æ˜¯<code>v1.1.2</code>æ­£å¼ç‰ˆï¼Œä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹ä¸­æ— æ³•è¿æ¥æ•°æ®åº“ï¼Œè¿˜æ€»æ˜¯é—ªé€€ã€‚å°è¯•é‡è£…ä¹Ÿæ²¡æœ‰è§£å†³ã€‚æœç´¢åå‘ç°å¾ˆå¤šäººéƒ½é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä¸‹è½½<code>test build</code>ç‰ˆæœ¬ã€‚å¯ä»¥å®Œç¾è§£å†³ã€‚</p><p>ä¸‹è½½åœ°å€: <a href="https://sequelpro.com/test-builds" target="_blank" rel="noopener">Sequel Pro test build</a></p><p><img src="/images/sequel_pro_1.png" alt="sequel_pro_1"><br><img src="/images/sequel_pro_2.png" alt="sequel_pro_2"></p><p>å¦‚æ­¤ä¾èµ–å°±å¯ä»¥å¿«ä¹çš„ä½¿ç”¨ MySQL æ•°æ®åº“äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨å­¦ä¹  NestJS æ¡†æ¶ï¼Œéœ€è¦ä½¿ç”¨ MySQL æ•°æ®åº“æ¥é…åˆå®Œæˆä¸€äº›åŠŸèƒ½ï¼Œä»¥å‰åªä½¿ç”¨è¿‡ MongoDBï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ MySQLï¼Œåœ¨å®‰è£…å’Œä½¿ç”¨æ—¶è¸©äº†ä¸€äº›å‘ï¼Œè®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;&lt;h2 id=&quot;ä¸‹è½½&quot;&gt;&lt;a href=&quot;#ä¸‹è½½&quot; class=&quot;headerlink&quot; tit</summary>
      
    
    
    
    
    <category term="mysql" scheme="http://yoursite.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Reactè®¾è®¡ä¸€ä¸ªFormè¡¨å•ç»„ä»¶</title>
    <link href="http://yoursite.com/2021/07/18/%E4%BD%BF%E7%94%A8React%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AAForm%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/"/>
    <id>http://yoursite.com/2021/07/18/%E4%BD%BF%E7%94%A8React%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AAForm%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/</id>
    <published>2021-07-18T17:18:44.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡è®¾è®¡ä¸€ä¸ª Form ç»„ä»¶ï¼Œå­¦ä¹  React ä¸­ï¼Œ<code>React.Children.forEach</code> å’Œ <code>React.CloneElement</code> ä»¥åŠ <code>React.isValidElement</code> è¿™ä¸‰ä¸ª API çš„ç”¨æ³•ã€‚</p><h1 id="ç»„ä»¶-API-è®¾è®¡"><a href="#ç»„ä»¶-API-è®¾è®¡" class="headerlink" title="ç»„ä»¶ API è®¾è®¡"></a>ç»„ä»¶ API è®¾è®¡</h1><p>ç»„ä»¶ç”¨æ³•å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRef &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Form, FormItem, Input &#125; <span class="keyword">from</span> <span class="string">"./Form"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> form = useRef();</span><br><span class="line">  <span class="keyword">const</span> onSubmit = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    form.current.submit(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"data"</span>, data);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> onReset = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    form.current.reset();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">      &lt;Form ref=&#123;form&#125;&gt;</span><br><span class="line">        &lt;FormItem name=<span class="string">"name"</span> label=<span class="string">"å§“å"</span>&gt;</span><br><span class="line">          &lt;Input /&gt;</span><br><span class="line">        &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">        &lt;FormItem name="age" label="å¹´é¾„"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Input /</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">        &lt;FormItem name="sex" label="æ€§åˆ«"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Input /</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Form&gt;</span><br><span class="line"></span><br><span class="line">      &lt;button onClick=&#123;onSubmit&#125;&gt;æäº¤&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;onReset&#125;&gt;é‡ç½®&lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="ç»„ä»¶å®ç°"><a href="#ç»„ä»¶å®ç°" class="headerlink" title="ç»„ä»¶å®ç°"></a>ç»„ä»¶å®ç°</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Form</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    formData: &#123;&#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  submit = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</span><br><span class="line">    cb &amp;&amp; cb(&#123; ...this.state.formData &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  reset = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; formData &#125; = <span class="keyword">this</span>.state;</span><br><span class="line">    <span class="built_in">Object</span>.keys(formData).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      formData[key] = <span class="string">""</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; formData &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  setValue = <span class="function">(<span class="params">name, value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; formData &#125; = <span class="keyword">this</span>.state;</span><br><span class="line">    formData[name] = value;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; formData &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; children &#125; = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">const</span> &#123; formData &#125; = <span class="keyword">this</span>.state;</span><br><span class="line">    <span class="keyword">const</span> renderChildren = [];</span><br><span class="line"></span><br><span class="line">    React.Children.forEach(children, (child) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (child.type.displayName === <span class="string">"FormItem"</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; name &#125; = child.props;</span><br><span class="line">        renderChildren.push(</span><br><span class="line">          React.cloneElement(</span><br><span class="line">            child,</span><br><span class="line">            &#123;</span><br><span class="line">              key: name,</span><br><span class="line">              value: formData[name] || <span class="string">""</span>,</span><br><span class="line">              handleChange: <span class="keyword">this</span>.setValue,</span><br><span class="line">            &#125;,</span><br><span class="line">            child.props.children</span><br><span class="line">          )</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> renderChildren;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">FormItem</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> displayName = <span class="string">"FormItem"</span>;</span><br><span class="line"></span><br><span class="line">  onChange = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name, handleChange &#125; = <span class="keyword">this</span>.props;</span><br><span class="line">    handleChange &amp;&amp; handleChange(name, value);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; label, value, children &#125; = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;span&gt;&#123;label&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &#123;React.isValidElement(children) &amp;&amp;</span></span><br><span class="line"><span class="regexp">        children.type.displayName === "FormItem-Input"</span></span><br><span class="line"><span class="regexp">          ? React.cloneElement(children, &#123; onChange: this.onChange, value &#125;)</span></span><br><span class="line"><span class="regexp">          : null&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Input</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> displayName = <span class="string">"FormItem-Input"</span>;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; value, onChange &#125; = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;input</span><br><span class="line">        value=&#123;value&#125;</span><br><span class="line">        onChange=&#123;(e) =&gt; &#123;</span><br><span class="line">          onChange &amp;&amp; onChange(e.target.value);</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€šè¿‡è®¾è®¡ä¸€ä¸ª Form ç»„ä»¶ï¼Œå­¦ä¹  React ä¸­ï¼Œ&lt;code&gt;React.Children.forEach&lt;/code&gt; å’Œ &lt;code&gt;React.CloneElement&lt;/code&gt; ä»¥åŠ &lt;code&gt;React.isValidElement&lt;/code&gt; è¿™ä¸‰ä¸ª </summary>
      
    
    
    
    
    <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>æ•°ç»„æ’åºç³»åˆ—</title>
    <link href="http://yoursite.com/2021/04/18/%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/04/18/%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%E7%B3%BB%E5%88%97/</id>
    <published>2021-04-18T15:52:57.000Z</published>
    <updated>2021-10-24T03:40:44.659Z</updated>
    
    <content type="html"><![CDATA[<p>æ•°ç»„çš„æ’åºåº”è¯¥æ˜¯åŸºæœ¬ä¸­çš„åŸºæœ¬äº†ã€‚</p><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title=" å†’æ³¡æ’åº"></a> å†’æ³¡æ’åº</h2><p>å†’æ³¡æ’åºçš„æ€æƒ³æ˜¯ï¼Œé€šè¿‡ä¸€æ¬¡éå†ï¼Œé€šè¿‡æ¯”è¾ƒï¼Œå°†ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè°ƒæ•´åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œè¿›è¡Œ n æ¬¡ä¹‹åï¼Œæ•°ç»„å°±æœ‰åºäº†ã€‚<br>å› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortArray</span>(<span class="params">nums: <span class="built_in">number</span>[]</span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; nums.length - i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[j] &gt; nums[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        swap(nums, j, j + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><p>æ’å…¥æ’åºçš„æ€æƒ³æ˜¯ï¼Œå°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå·¦åŠéƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œå³åŠéƒ¨åˆ†æ˜¯æ— åºçš„ï¼Œæ¯æ¬¡ä»å³åŠéƒ¨åˆ†å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°å·¦åŠéƒ¨åˆ†ã€‚<br>æ’å…¥çš„è¿‡ç¨‹æ˜¯ï¼ŒæŠŠå¾…æ’å…¥å…ƒç´ å’Œå·¦åŠéƒ¨åˆ†çš„å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœå°äºå°±äº¤æ¢ï¼Œå¦‚æœå¤§äºç­‰äºå°±åœæ­¢ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortArray</span>(<span class="params">nums: <span class="built_in">number</span>[]</span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="comment">// nums[i] æ˜¯å¾…æ’å…¥çš„å…ƒç´ </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[j] &lt; nums[j - <span class="number">1</span>]) &#123;</span><br><span class="line">        swap(nums, j - <span class="number">1</span>, j);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>å¿«é€Ÿæ’åºçš„æ€æƒ³æ˜¯ï¼Œæ¯æ¬¡å°†æ•°ç»„åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œå·¦åŠéƒ¨åˆ†çš„æ‰€æœ‰å€¼éƒ½å°äºå³åŠéƒ¨åˆ†ï¼Œç„¶åå¯¹å·¦å³éƒ¨åˆ†å†è¿›è¡Œè¿™æ ·çš„æ“ä½œã€‚æœ€ç»ˆæ•´ä¸ªæ•°ç»„æœ‰åºã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">nums: <span class="built_in">number</span>[], left: <span class="built_in">number</span>, right: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span> right;</span><br><span class="line">  <span class="keyword">const</span> pvoit = nums[left];</span><br><span class="line">  <span class="keyword">const</span> start = left;</span><br><span class="line">  left = left + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[left] &gt; pvoit &amp;&amp; nums[right] &lt; pvoit) &#123;</span><br><span class="line">      swap(nums, left++, right--);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] &lt;= pvoit) &#123;</span><br><span class="line">      left++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap(nums, start, right);</span><br><span class="line">  <span class="keyword">return</span> right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">nums: <span class="built_in">number</span>[], left: <span class="built_in">number</span>, right: <span class="built_in">number</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span> nums;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> p = partition(nums, left, right);</span><br><span class="line">  quickSort(nums, left, p - <span class="number">1</span>);</span><br><span class="line">  quickSort(nums, p + <span class="number">1</span>, right);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortArray</span>(<span class="params">nums: <span class="built_in">number</span>[]</span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ•°ç»„çš„æ’åºåº”è¯¥æ˜¯åŸºæœ¬ä¸­çš„åŸºæœ¬äº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;å†’æ³¡æ’åº&quot;&gt;&lt;a href=&quot;#å†’æ³¡æ’åº&quot; class=&quot;headerlink&quot; title=&quot; å†’æ³¡æ’åº&quot;&gt;&lt;/a&gt; å†’æ³¡æ’åº&lt;/h2&gt;&lt;p&gt;å†’æ³¡æ’åºçš„æ€æƒ³æ˜¯ï¼Œé€šè¿‡ä¸€æ¬¡éå†ï¼Œé€šè¿‡æ¯”è¾ƒï¼Œå°†ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè°ƒæ•´åˆ°æ•°ç»„</summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç¼€å’Œç³»åˆ—</title>
    <link href="http://yoursite.com/2021/04/17/%E5%89%8D%E7%BC%80%E5%92%8C%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/04/17/%E5%89%8D%E7%BC%80%E5%92%8C%E7%B3%BB%E5%88%97/</id>
    <published>2021-04-17T10:44:29.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><p>å‰ç¼€å’Œï¼Œç®€å•è¯´å°±æ˜¯æ•°ç»„çš„å‰ n é¡¹çš„å’Œã€‚ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œåœ¨ä»£ç é‡Œé¢ï¼Œpresum[i] ä»£è¡¨å‰ i é¡¹çš„å’Œï¼Œä¹Ÿå°±æ˜¯ nums[0]~nums[i-1]çš„å’Œã€‚<br>æ¯”å¦‚ presum[2] = nums[0] + nums[1]ã€‚</p><p>é€šè¿‡å‰ç¼€å’Œçš„æ€æƒ³å’Œ mapï¼Œå¯ä»¥ä¼˜åŒ–å¾ˆå¤šé—®é¢˜è§£æ³•ã€‚</p><p>åŒæ—¶å‰ç¼€å’Œä¸ä¸€å®šçœŸçš„å°±æ˜¯å‰ç¼€çš„å’Œï¼Œä¹Ÿå¯ä»¥æ˜¯å‰ç¼€ä¸­å¥‡æ•°æ•°å­—çš„ä¸ªæ•°ç­‰ã€‚æ€»ä¹‹å°±å‰ç¼€çš„ä¸€ä¸ªç»Ÿè®¡ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯å’Œï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">presum</span>(<span class="params">nums: <span class="built_in">number</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> presum = [<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    presum[i + <span class="number">1</span>] = presum[i] + nums[i];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="724-å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡"><a href="#724-å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡" class="headerlink" title="724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡"></a>724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ç¼–å†™ä¸€ä¸ªèƒ½å¤Ÿè¿”å›æ•°ç»„ â€œä¸­å¿ƒä¸‹æ ‡â€ çš„æ–¹æ³•ã€‚æ•°ç»„ ä¸­å¿ƒä¸‹æ ‡ æ˜¯æ•°ç»„çš„ä¸€ä¸ªä¸‹æ ‡ï¼Œå…¶å·¦ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œç­‰äºå³ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œã€‚å¦‚æœæ•°ç»„ä¸å­˜åœ¨ä¸­å¿ƒä¸‹æ ‡ï¼Œè¿”å› -1 ã€‚å¦‚æœæ•°ç»„æœ‰å¤šä¸ªä¸­å¿ƒä¸‹æ ‡ï¼Œåº”è¯¥è¿”å›æœ€é è¿‘å·¦è¾¹çš„é‚£ä¸€ä¸ªã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆæ±‚å‡ºæ€»å’Œ</span></span><br><span class="line"><span class="comment">// éå†æ±‚å‡ºå·¦è¾¹çš„å’Œï¼Œç„¶åç”¨æ€»å’Œå‡å»å·¦è¾¹çš„å’Œä»¥åŠå½“å‰å€¼ï¼Œå°±æ˜¯å³è¾¹çš„å’Œ</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­å·¦å³çš„å’Œæ˜¯å¦ç›¸ç­‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pivotIndex</span>(<span class="params">nums: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> presum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    presum += nums[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> leftsum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> rightsum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    rightsum = presum - leftsum - nums[i];</span><br><span class="line">    <span class="keyword">if</span> (leftsum === rightsum) &#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    leftsum += nums[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-ä¸¤æ•°ä¹‹å’Œ"><a href="#1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="1. ä¸¤æ•°ä¹‹å’Œ"></a>1. ä¸¤æ•°ä¹‹å’Œ</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚<br>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ä¸€ä¸ªmapï¼Œè®°å½•å·²ç»è®¿é—®è¿‡çš„å€¼</span></span><br><span class="line"><span class="comment">// éå†æ•°ç»„ï¼Œåˆ¤æ–­mapä¸­æ˜¯å¦å·²ç»å­˜åœ¨ä¸€ä¸ªå€¼ï¼Œå’Œå½“å‰å€¼ç›¸åŠ çš„å’Œæ˜¯target</span></span><br><span class="line"><span class="comment">// å¦‚æœä¸æ˜¯ï¼Œå°±æŠŠå½“å‰å€¼åŠ å…¥åˆ°mapä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">twoSum</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (map.has(target - nums[i])) &#123;</span><br><span class="line">      <span class="keyword">return</span> [map.get(target - nums[i]), i];</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(nums[i], i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="560-å’Œä¸º-K-çš„å­æ•°ç»„"><a href="#560-å’Œä¸º-K-çš„å­æ•°ç»„" class="headerlink" title="560. å’Œä¸º K çš„å­æ•°ç»„"></a>560. å’Œä¸º K çš„å­æ•°ç»„</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° kï¼Œä½ éœ€è¦æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p><blockquote><p>ç¤ºä¾‹ 1 : è¾“å…¥:nums = [1,1,1], k = 2; è¾“å‡º: 2 , [1,1] ä¸ [1,1] ä¸ºä¸¤ç§ä¸åŒçš„æƒ…å†µ</p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æš´åŠ›æ³•ï¼Œæ±‚å‡ºäº†æ‰€æœ‰å­æ•°ç»„çš„å’Œ</span></span><br><span class="line"><span class="comment">// æœ‰å¯èƒ½ä¼šè¶…æ—¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subarraySum</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; nums.length; j++) &#123;</span><br><span class="line">      sum += nums[j];</span><br><span class="line">      <span class="keyword">if</span> (sum === k) &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¸¤æ•°ä¹‹å’Œç±»ä¼¼ï¼Œä½¿ç”¨mapèŠ‚çœæ—¶é—´</span></span><br><span class="line"><span class="comment">// map ä¸­è®°å½•å‰ç¼€å’Œï¼Œä»¥åŠè¯¥å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subarraySum</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> presum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map();</span><br><span class="line">  map.set(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    presum += nums[i];</span><br><span class="line">    <span class="keyword">if</span> (map.has(presum - k)) &#123;</span><br><span class="line">      cnt += map.get(presum - k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> curVal = map.has(presum) ? map.get(presum) : <span class="number">0</span>;</span><br><span class="line">    map.set(presum, curVal + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1248-ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„"><a href="#1248-ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„" class="headerlink" title="1248. ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„"></a>1248. ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° kã€‚å¦‚æœæŸä¸ª è¿ç»­ å­æ•°ç»„ä¸­æ°å¥½æœ‰ k ä¸ªå¥‡æ•°æ•°å­—ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªå­æ•°ç»„æ˜¯ã€Œä¼˜ç¾å­æ•°ç»„ã€ã€‚è¯·è¿”å›è¿™ä¸ªæ•°ç»„ä¸­ã€Œä¼˜ç¾å­æ•°ç»„ã€çš„æ•°ç›®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ä½è¿ç®—åˆ¤æ–­æ•°å­—çš„å¥‡å¶æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOdd</span>(<span class="params">num: <span class="built_in">number</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (num &amp; <span class="number">1</span>) === <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æš´åŠ›æ³•ï¼Œéå†æ‰€æœ‰çš„å­æ•°ç»„ï¼Œè®¡ç®—å­æ•°ç»„å¥‡æ•°çš„ä¸ªæ•°ï¼Œåˆ¤æ–­ä¸ªæ•°æ˜¯å¦ä¸ºk</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numberOfSubarrays</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> oddCnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    oddCnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; nums.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isOdd(nums[j])) oddCnt++;</span><br><span class="line">      <span class="keyword">if</span> (oddCnt === k) cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// presum è®°å½•çš„æ˜¯å½“å‰å‰ç¼€ä¸­çš„å¥‡æ•°çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">// mapè®°å½•å‰ç¼€ä¸­å¥‡æ•°ä¸ªæ•°ï¼Œä»¥åŠè¯¥ç§caseå‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚map(5,2) ä»£è¡¨ï¼Œè¯¥å‰ç¼€ä¸­æœ‰5ä¸ªå¥‡æ•°ï¼Œå®ƒå‡ºç°äº†2æ¬¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numberOfSubarrays</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> presum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map();</span><br><span class="line">  map.set(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    presum += isOdd(nums[i]) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (map.has(presum - k)) &#123;</span><br><span class="line">      cnt += map.get(presum - k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> curVal = map.has(presum) ? map.get(presum) : <span class="number">0</span>;</span><br><span class="line">    map.set(presum, curVal + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="974-å’Œå¯è¢«-K-æ•´é™¤çš„å­æ•°ç»„"><a href="#974-å’Œå¯è¢«-K-æ•´é™¤çš„å­æ•°ç»„" class="headerlink" title="974. å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„"></a>974. å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Aï¼Œè¿”å›å…¶ä¸­å…ƒç´ ä¹‹å’Œå¯è¢« K æ•´é™¤çš„ï¼ˆè¿ç»­ã€éç©ºï¼‰å­æ•°ç»„çš„æ•°ç›®ã€‚</p><ul><li>è¿™é‡Œçš„ k å¤§äº 2</li><li>æ•°ç»„ A ä¸­æœ‰è´Ÿæ•°ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æš´åŠ›æ³•</span></span><br><span class="line"><span class="comment">// æ±‚å‡ºæ‰€æœ‰å­æ•°ç»„çš„å’Œï¼ŒéªŒè¯æ˜¯å¦å¯ä»¥è¢«Kæ•´é™¤</span></span><br><span class="line"><span class="comment">// è¶…æ—¶äº†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subarraysDivByK</span>(<span class="params">A: <span class="built_in">number</span>[], K: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">    sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; A.length; j++) &#123;</span><br><span class="line">      sum += A[j];</span><br><span class="line">      <span class="keyword">if</span> (sum % K === <span class="number">0</span>) &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// presum è¿˜æ˜¯å‰ç¼€å’Œ</span></span><br><span class="line"><span class="comment">// mapè®°å½•å‰ç¼€å’Œå¯¹Kçš„ä½™æ•°ï¼Œä»¥åŠæ¬¡æ•°</span></span><br><span class="line"><span class="comment">// (presum[i]-presum[j]) % K = 0 --&gt; presum[i] % K = presum[j] % K</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subarraysDivByK</span>(<span class="params">A: <span class="built_in">number</span>[], K: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> presum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> remainder = <span class="number">0</span>; <span class="comment">// ä½™æ•°</span></span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map();</span><br><span class="line">  <span class="comment">// mapè®°å½•å‰ç¼€å’Œå¯¹Kçš„ä½™æ•°ï¼Œä»¥åŠæ¬¡æ•°</span></span><br><span class="line">  map.set(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">    presum += A[i];</span><br><span class="line">    <span class="comment">// è¿™é‡Œéœ€è¦æŠŠè´Ÿæ•°çš„ä½™æ•°è½¬æˆæ­£æ•°</span></span><br><span class="line">    remainder = ((presum % K) + K) % K;</span><br><span class="line">    <span class="keyword">if</span> (map.has(remainder)) &#123;</span><br><span class="line">      cnt += map.get(remainder);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> curVal = map.has(remainder) ? map.get(remainder) : <span class="number">0</span>;</span><br><span class="line">    map.set(remainder, curVal + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="523-è¿ç»­çš„å­æ•°ç»„å’Œ"><a href="#523-è¿ç»­çš„å­æ•°ç»„å’Œ" class="headerlink" title="523. è¿ç»­çš„å­æ•°ç»„å’Œ"></a>523. è¿ç»­çš„å­æ•°ç»„å’Œ</h2><p>ç»™å®šä¸€ä¸ªåŒ…å« éè´Ÿæ•° çš„æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡ æ•´æ•° k ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦å«æœ‰è¿ç»­çš„å­æ•°ç»„ï¼Œå…¶å¤§å°è‡³å°‘ä¸º 2ï¼Œä¸”æ€»å’Œä¸º k çš„å€æ•°ï¼Œå³æ€»å’Œä¸º n * k ï¼Œå…¶ä¸­ n ä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p><ul><li>k æ˜¯æ•´æ•°ï¼Œå¯èƒ½ä¸º 0</li><li>å­æ•°ç»„é•¿åº¦è‡³å°‘ä¸º 2</li><li>è¿”å› bool å€¼ï¼Œåˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦å­˜åœ¨</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mapçš„keyä¸ºä½™æ•°ï¼Œvalä¸å†æ˜¯ä½™æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œè€Œæ˜¯è¯¥ä½™æ•°æœ€æ—©å‡ºç°çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// é€šè¿‡è¿™ä¸ªä½ç½®æ¥åˆ¤æ–­ï¼Œå­æ ‘ç»„é•¿åº¦æ˜¯å¦å¤§äºç­‰äº2</span></span><br><span class="line"><span class="comment">// kä¸º0çš„æ—¶å€™ï¼Œä½™æ•°å°±æ˜¯presumæœ¬èº«ï¼Œä¹Ÿå°±å˜æˆäº†æ˜¯å¦æœ‰ä¸¤ä¸ªå‰ç¼€å’Œæ˜¯ç›¸ç­‰çš„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSubarraySum</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> presum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> remainder = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map();</span><br><span class="line">  map.set(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    presum += nums[i];</span><br><span class="line">    remainder = k === <span class="number">0</span> ? presum : ((presum % k) + k) % k;</span><br><span class="line">    <span class="keyword">if</span> (map.has(remainder)) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = map.get(remainder);</span><br><span class="line">      <span class="keyword">if</span> (i - index &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      map.set(remainder, i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="930-å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„"><a href="#930-å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„" class="headerlink" title="930. å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„"></a>930. å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰ç¼€å’Œ&quot;&gt;&lt;a href=&quot;#å‰ç¼€å’Œ&quot; class=&quot;headerlink&quot; title=&quot;å‰ç¼€å’Œ&quot;&gt;&lt;/a&gt;å‰ç¼€å’Œ&lt;/h2&gt;&lt;p&gt;å‰ç¼€å’Œï¼Œç®€å•è¯´å°±æ˜¯æ•°ç»„çš„å‰ n é¡¹çš„å’Œã€‚ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œåœ¨ä»£ç é‡Œé¢ï¼Œpresum[i] ä»£è¡¨å‰ i é¡¹çš„å’Œï¼Œä¹Ÿå°±æ˜¯ nums[0]~n</summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>æ‹“æ‰‘æ’åº-è¯¾ç¨‹è¡¨ç³»åˆ—</title>
    <link href="http://yoursite.com/2021/04/12/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F-%E8%AF%BE%E7%A8%8B%E8%A1%A8%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/04/12/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F-%E8%AF%BE%E7%A8%8B%E8%A1%A8%E7%B3%BB%E5%88%97/</id>
    <published>2021-04-12T21:24:21.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h2 id="leetcode-207-è¯¾ç¨‹è¡¨"><a href="#leetcode-207-è¯¾ç¨‹è¡¨" class="headerlink" title="leetcode 207 è¯¾ç¨‹è¡¨"></a>leetcode 207 è¯¾ç¨‹è¡¨</h2><p>ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® numCourses é—¨è¯¾ç¨‹ï¼Œè®°ä¸º 0 åˆ° numCourses - 1 ã€‚</p><p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ å…ˆä¿®è¯¾ç¨‹æŒ‰æ•°ç»„ prerequisites ç»™å‡ºï¼Œå…¶ä¸­ prerequisites[i] = [ai, bi] ï¼Œè¡¨ç¤ºå¦‚æœè¦å­¦ä¹ è¯¾ç¨‹ ai åˆ™ å¿…é¡» å…ˆå­¦ä¹ è¯¾ç¨‹ bi ã€‚</p><p>ä¾‹å¦‚ï¼Œå…ˆä¿®è¯¾ç¨‹å¯¹ [0, 1] è¡¨ç¤ºï¼šæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ã€‚<br>è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿå¦‚æœå¯ä»¥ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><h3 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h3><p>è¿™ç§åœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œäº’ç›¸æœ‰ä¾èµ–å…³ç³»ï¼Œéœ€è¦æŒ‰ç…§ä¾èµ–é¡ºåºæ’åºè¾“å‡ºçš„é—®é¢˜ï¼Œå°±æ˜¯æ‹“æ‰‘æ’åºã€‚æ‹“æ‰‘æ’åºé™¤äº†æ’åºè¾“å‡ºä¹‹å¤–ï¼Œè¿˜å¯ä»¥éªŒè¯å›¾ä¸­æ˜¯å¦æœ‰ç¯ã€‚æ¯”å¦‚ä¸‹é¢å¸¸è§çš„æ‹“æ‰‘æ’åºçš„åº”ç”¨ã€‚</p><ul><li>è¯¾ç¨‹å­¦ä¹ çš„å…ˆåé¡ºåº</li><li>ç›¸äº’ä¾èµ–çš„æ–‡ä»¶çš„ç¼–è¯‘é¡ºåº</li></ul><h3 id="æ‹“æ‰‘æ’åºçš„æ–¹æ³•"><a href="#æ‹“æ‰‘æ’åºçš„æ–¹æ³•" class="headerlink" title="æ‹“æ‰‘æ’åºçš„æ–¹æ³•"></a>æ‹“æ‰‘æ’åºçš„æ–¹æ³•</h3><p>ä¸€æ˜¯ Kahn ç®—æ³•ã€‚äºŒæ˜¯æ·±åº¦ä¼˜å…ˆéå†</p><h4 id="Kahn-ç®—æ³•"><a href="#Kahn-ç®—æ³•" class="headerlink" title="Kahn ç®—æ³•"></a>Kahn ç®—æ³•</h4><p>ä¸ªäººè®¤ä¸º Kahn ç®—æ³•è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ã€‚é¦–å…ˆéœ€è¦å®šä¹‰ b ä¾èµ–ä¸ aï¼Œa è¦å…ˆä¸ b æ‰§è¡Œï¼Œé‚£ä¹ˆå°±æ˜¯ a-&gt;bã€‚<br>æ­¤æ—¶ b çš„å…¥åº¦æ˜¯ 1ï¼Œa çš„å…¥åº¦æ˜¯ 0ã€‚</p><ol><li>ç®—æ³•çš„æ€è·¯å°±æ˜¯é¦–å…ˆç»Ÿè®¡å‡ºæ‰€æœ‰çš„ç‚¹çš„å…¥åº¦ï¼Œè¿˜éœ€è¦ç»Ÿè®¡æ‰€æœ‰ç‚¹çš„ next ç‚¹</li><li>ç„¶åæ‰¾åˆ°å…¥åº¦ä¸º 0 çš„ç‚¹ï¼Œè®¿é—®å®ƒï¼Œéšåï¼Œå°†è¯¥ç‚¹çš„æ‰€æœ‰ next ç‚¹çš„å…¥åº¦éƒ½å‡ 1</li><li>ç„¶åé‡å¤ 2 è¿™ä¸ªæ­¥éª¤</li><li>ç›´åˆ°æ²¡æœ‰å…¥åº¦ä¸º 0 çš„ç‚¹ä¸ºæ­¢</li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">canFinish</span>(<span class="params">numCourses: <span class="built_in">number</span>, prerequisites: <span class="built_in">number</span>[][]</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inDegree = <span class="built_in">Array</span>(numCourses).fill(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> adjacent = inDegree.map(<span class="function"><span class="params">()</span> =&gt;</span> []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [cur, pre] of prerequisites) &#123;</span><br><span class="line">    <span class="comment">// pre -&gt; cur</span></span><br><span class="line">    inDegree[cur] += <span class="number">1</span>;</span><br><span class="line">    adjacent[pre].push(cur);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ‰¾åˆ°æ‰€æœ‰å…¥åº¦ä¸º0çš„è¯¾ç¨‹</span></span><br><span class="line">  <span class="keyword">const</span> queue = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; inDegree.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (inDegree[i] === <span class="number">0</span>) &#123;</span><br><span class="line">      queue.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> list = [];</span><br><span class="line">  <span class="comment">// éå†å…¥åº¦ä¸º0çš„è¯¾ç¨‹ï¼Œå…¥åº¦ä¸º0ï¼Œåˆ™åŠ å…¥list, å¹¶å°†å®ƒçš„ä¸´æ¥è¯¾ç¨‹å…¥åº¦-1</span></span><br><span class="line">  <span class="keyword">while</span> (queue.length) &#123;</span><br><span class="line">    <span class="keyword">const</span> cur = queue.shift();</span><br><span class="line">    list.push(cur);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å½“å‰è¯¾ç¨‹çš„æ‰€æœ‰ååºè¯¾ç¨‹çš„å…¥åº¦å‡1ï¼Œå¦‚æœååºè¯¾ç¨‹çš„å…¥åº¦ä¸º0ï¼Œåˆ™åŠ å…¥list</span></span><br><span class="line">    adjacent[cur].forEach(<span class="function">(<span class="params">next</span>) =&gt;</span> &#123;</span><br><span class="line">      inDegree[next]--;</span><br><span class="line">      <span class="keyword">if</span> (inDegree[next] === <span class="number">0</span>) &#123;</span><br><span class="line">        queue.push(next);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ€åéªŒè¯ä¸€ä¸‹ï¼Œæ˜¯å¦æ‰€æœ‰çš„è¯¾ç¨‹éƒ½å­¦å®Œäº†</span></span><br><span class="line">  <span class="keyword">return</span> list.length === numCourses;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="dfs-æ·±åº¦ä¼˜å…ˆéå†"><a href="#dfs-æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="dfs æ·±åº¦ä¼˜å…ˆéå†"></a>dfs æ·±åº¦ä¼˜å…ˆéå†</h4><p>æ·±åº¦ä¼˜å…ˆéå†ï¼Œä¹Ÿæ˜¯è§£å†³æ‹“æ‰‘æ’åºçš„å¸¸ç”¨åŠæ³•ã€‚å…¶æ€è·¯å°±æ˜¯æ²¿ç€ä¸€ä¸ªç‚¹ï¼Œä¸€ç›´å¾€å‰æ‰¾å®ƒçš„å‰ç½®ç‚¹ï¼Œç›´åˆ°æ²¡æœ‰å‰ç½®çš„ç‚¹äº†ï¼Œå°±æ˜¯æ‰¾åˆ°å¤´äº†ã€‚æ­¤æ—¶å°±å¯ä»¥å›æº¯è®¿é—®äº†ï¼ˆä»å¤–åˆ°å†…æ¢ç´¢ï¼Œä»å†…åˆ°å¤–å›æº¯è®¿é—®ï¼‰ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦è®°å½•ç‚¹çš„çŠ¶æ€ï¼Œæœªè®¿é—®ï½œè®¿é—®ä¸­ï½œå·²ç»è®¿é—®ã€‚</p><ul><li>å¦‚æœæœªè®¿é—®éœ€è¦æ ‡è®°æœªè®¿é—®ä¸­</li><li>å¦‚æœæ˜¯è®¿é—®ä¸­ï¼Œåˆ™è¯´æ˜åˆè®¿é—®äº†ä¸€æ¬¡ï¼Œå­˜åœ¨ç¯</li><li>å¦‚æœæ˜¯å·²ç»è®¿é—®ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å°±å¯ä»¥äº†;æ¯”å¦‚(è¿™é‡Œå’Œ Kahn ç®—æ³•æ˜¯åçš„ï¼Œa-&gt;b ä»£è¡¨ b å…ˆäº a æ‰§è¡Œã€‚a ä¾èµ– b)<ul><li>a-&gt;b-&gt;c</li><li>d-&gt;b-&gt;c</li><li>è®¿é—®å®Œ a è¿™æ¡é“¾è·¯ï¼Œb å’Œ c å°±å·²ç»è®¿é—®äº†ã€‚å› æ­¤å†è®¿é—® d è¿™æ¡é“¾è·¯æ—¶ï¼Œå°±ä¸éœ€è¦è®¿é—® b å’Œ c äº†</li></ul></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  cur: <span class="built_in">number</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  pres: <span class="built_in">number</span>[][],</span></span></span><br><span class="line"><span class="function"><span class="params">  visited: <span class="built_in">number</span>[],</span></span></span><br><span class="line"><span class="function"><span class="params">  res: <span class="built_in">number</span>[]</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (visited[cur] === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// å·²ç»è®¿é—®è¿‡äº†</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (visited[cur] === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// æ­£åœ¨è®¿é—®ä¸­ï¼Œç»“æœåˆæ¥è®¿é—®äº†ã€‚å‡ºç°äº†ç¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ä¸ºè®¿é—®ä¸­</span></span><br><span class="line">    visited[cur] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pres[cur].length; i++) &#123;</span><br><span class="line">      <span class="comment">// è®¿é—®å‰ç½®èŠ‚ç‚¹</span></span><br><span class="line">      <span class="keyword">if</span> (!dfs(pres[cur][i], pres, visited, res)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[cur] = <span class="number">2</span>;</span><br><span class="line">    res.push(cur);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findOrder</span>(<span class="params">numCourses: <span class="built_in">number</span>, prerequisites: <span class="built_in">number</span>[][]</span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> visited = <span class="built_in">Array</span>(numCourses).fill(<span class="number">0</span>); <span class="comment">// 0-æœªè®¿é—®ï¼›1-è®¿é—®ä¸­ï¼›2-å·²ç»è®¿é—®</span></span><br><span class="line">  <span class="keyword">const</span> pres = visited.map(<span class="function"><span class="params">()</span> =&gt;</span> []); <span class="comment">// è®°å½•èŠ‚ç‚¹çš„å‰ç½®èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç»Ÿè®¡èŠ‚ç‚¹çš„å‰ç½®èŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [cur, pre] of prerequisites) &#123;</span><br><span class="line">    pres[cur].push(pre);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!dfs(i, pres, visited, res)) &#123;</span><br><span class="line">      <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;leetcode-207-è¯¾ç¨‹è¡¨&quot;&gt;&lt;a href=&quot;#leetcode-207-è¯¾ç¨‹è¡¨&quot; class=&quot;headerlink&quot; title=&quot;leetcode 207 è¯¾ç¨‹è¡¨&quot;&gt;&lt;/a&gt;leetcode 207 è¯¾ç¨‹è¡¨&lt;/h2&gt;&lt;p&gt;ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® numC</summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å®Œå…¨äºŒå‰æ ‘ã€å †å’Œä¼˜å…ˆé˜Ÿåˆ—</title>
    <link href="http://yoursite.com/2021/04/11/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E5%A0%86%E5%92%8C%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/"/>
    <id>http://yoursite.com/2021/04/11/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E5%A0%86%E5%92%8C%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/</id>
    <published>2021-04-11T14:10:04.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h2><p>å®Œå…¨äºŒå‰æ ‘æ˜¯æ»¡äºŒå‰æ ‘çš„ä¸€ç§é€€åŒ–ã€‚å®ƒåªç¼ºå°‘æœ€åä¸€æ’æœ€å³è¾¹çš„ä¸€äº›å…ƒç´ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/images/bianary-tree.png" alt="bianary-tree"></p><h3 id="å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§"><a href="#å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§"></a>å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§</h3><p>å®Œå…¨äºŒå‰æ ‘æœ‰ä¸€ä¸ªä¼˜ç§€çš„ç‰¹æ€§ã€‚å°±æ˜¯å®ƒå¯ä»¥ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨é“¾è¡¨çš„æ–¹å¼æ¥å­˜å‚¨ã€‚<br>å¦‚æœå¯¹å®Œå…¨äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ç¼–å·ï¼Œé‚£ä¹ˆå¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªè§„å¾‹ã€‚<br>å¦‚æœçˆ¶èŠ‚ç‚¹çš„ç¼–å·æ˜¯ iï¼Œé‚£ä¹ˆå®ƒçš„å·¦å­èŠ‚ç‚¹çš„ç¼–å·å°±æ˜¯ 2<em>iï¼Œå³å­èŠ‚ç‚¹çš„ç¼–å·å°±æ˜¯ 2</em>i+1</p><blockquote><p>å®é™…ä¸Šï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠæ•°ç»„ä½œä¸ºå®Œå…¨äºŒå‰æ ‘çš„å®é™…å­˜å‚¨ç»“æ„ï¼Œè€Œå®Œå…¨äºŒå‰æ ‘ï¼Œåˆ™æ˜¯æˆ‘ä»¬é‡æ–°çœ‹å¾…è¿™æ®µæ•°ç»„ä¿¡æ¯çš„æ€ç»´é€»è¾‘ç»“æ„ã€‚å› æ­¤ï¼Œæ•°æ®ç»“æ„æœ€å¤§çš„ä»·å€¼ï¼Œå°±æ˜¯å¯¹æˆ‘ä»¬æ€ç»´é€»è¾‘ç»“æ„çš„æ”¹é€ ã€‚</p></blockquote><h2 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h2><blockquote><p>å †ï¼ˆHeapï¼‰æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹æˆè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„ã€‚æ ‘ä¸Šçš„æ¯ä¸€ä¸ªç»“ç‚¹å¯¹åº”æ•°ç»„çš„ä¸€ä¸ªå…ƒç´ ã€‚é™¤äº†æœ€åº•å±‚å¤–ï¼Œè¯¥æ ‘æ˜¯å®Œå…¨å……æ»¡çš„ï¼Œè€Œä¸”æ˜¯ä»å·¦åˆ°å³å¡«å……ã€‚â€”â€” æ¥è‡ªï¼šã€Šç®—æ³•å¯¼è®ºã€‹</p></blockquote><p>å †å…¶å®å°±æ˜¯ä½¿ç”¨å®Œå…¨äºŒå‰æ ‘å®ç°çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚åˆ†ä¸ºå¤§é¡¶å †å’Œå°é¡¶å †ã€‚</p><ul><li>å°é¡¶å †ï¼›å¦‚æœä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘çš„æ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å°äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå°é¡¶å †ã€‚</li><li>å¤§é¡¶å †ï¼›å¦‚æœä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘çš„æ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¤§é¡¶å †ã€‚</li></ul><blockquote><p>ä¸ºäº†è®©ä½ æ›´å¥½åœ°å­¦ä¹ å †è¿™ç§æ•°æ®ç»“æ„ï¼Œæˆ‘è¦å’Œä½ åˆ†äº«ä¸€ä¸ªå­¦ä¹ æ•°æ®ç»“æ„çš„å…¬å¼ï¼šæ•°æ®ç»“æ„ = ç»“æ„å®šä¹‰ + ç»“æ„æ“ä½œã€‚ç»“æ„å®šä¹‰å’Œç»“æ„æ“ä½œæ˜¯ç»„æˆæ•°æ®ç»“æ„æœ€é‡è¦çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ä½ ä¹‹ååœ¨å­¦ä»»ä½•ä¸€ç§æ•°æ®ç»“æ„æ—¶çš„é‡ç‚¹å†…å®¹ã€‚ç»“æ„å®šä¹‰å°±æ˜¯å®šä¹‰ä¸€ç§æ€§è´¨ï¼Œç»“æ„æ“ä½œå°±æ˜¯ç»´æŠ¤è¿™ç§æ€§è´¨ã€‚</p></blockquote><h3 id="å †çš„ç»“æ„å®šä¹‰"><a href="#å †çš„ç»“æ„å®šä¹‰" class="headerlink" title="å †çš„ç»“æ„å®šä¹‰"></a>å †çš„ç»“æ„å®šä¹‰</h3><ul><li>å¤§é¡¶å †å¯ä»¥ç»´æŠ¤ä¸€ä¸ªé›†åˆä¸­çš„æœ€å¤§å€¼ã€‚</li><li>å°é¡¶å †å¯ä»¥ç»´æŠ¤ä¸€ä¸ªé›†åˆä¸­çš„æœ€å°å€¼ã€‚</li></ul><h3 id="å †çš„ç»“æ„æ“ä½œ"><a href="#å †çš„ç»“æ„æ“ä½œ" class="headerlink" title="å †çš„ç»“æ„æ“ä½œ"></a>å †çš„ç»“æ„æ“ä½œ</h3><ul><li>æ’å…¥æ–°å…ƒç´ <ul><li>æ’å…¥åˆ°æœ€åé¢ï¼ˆæ•°ç»„çš„æœ€åï¼‰</li><li>å‘ä¸Šè°ƒæ•´ï¼Œç»´æŠ¤å †çš„ç‰¹æ€§</li></ul></li><li>åˆ é™¤æœ€å€¼å…ƒç´ <ul><li>å°†æœ€åä¸€ä¸ªå…ƒç´ è¦†ç›–å †é¡¶å…ƒç´ ï¼ˆæ•°ç»„å°¾å…ƒç´ è¦†ç›–æ•°ç»„å¤´å…ƒç´ ï¼‰</li><li>å‘ä¸‹è°ƒæ•´ï¼Œç»´æŠ¤å †çš„ç‰¹æ€§</li></ul></li></ul><h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><ol><li>å¯¹æ•°ç»„å»ºç«‹ä¸€ä¸ªå¤§é¡¶å †</li><li>æ¯æ¬¡å°†å †é¡¶å…ƒç´ å’Œå †å°¾å…ƒç´ è°ƒæ¢ä½ç½®ï¼ˆç›¸å½“äºæŠŠæœ€å¤§å€¼æ”¾åœ¨äº†æœ€åï¼‰ï¼Œç„¶åå‡å°å †çš„ sizeï¼Œä»ä¸Šåˆ°ä¸‹ç»´æŠ¤å †</li><li>æ‰§è¡Œ n æ¬¡ä¹‹åï¼Œå¾—åˆ°ä¸€ä¸ªä»å°åˆ°è¾¾æ’åºçš„æ•°ç»„</li></ol><h2 id="ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—"></a>ä¼˜å…ˆé˜Ÿåˆ—</h2><blockquote><p>ä¼˜å…ˆé˜Ÿåˆ—å¥½åƒå°±æ˜¯å †çš„åˆ«åå•Šï¼Ÿå…¶å®ä¸ç„¶ã€‚ä½ å¯ä»¥æŠŠä¼˜å…ˆé˜Ÿåˆ—å½“æˆæ˜¯ä¸€ç§æ¦‚å¿µï¼Œé‚£å®ƒçš„å®šä¹‰å°±æ˜¯ä¸€ç§å¯ä»¥å®ç°æ ¹æ®ä¼˜å…ˆçº§å‡ºé˜Ÿçš„ç»“æ„ã€‚è€Œå †åªæ˜¯å®ç°ä¼˜å…ˆé˜Ÿåˆ—çš„å…¶ä¸­ä¸€ç§æ–¹å¼ï¼Œå½“ç„¶ä¹Ÿæ˜¯æœ€æ™®éçš„æ–¹å¼ã€‚</p></blockquote><h2 id="å®ç°ä¸€ä¸ªæœ€-å°-å¤§å †"><a href="#å®ç°ä¸€ä¸ªæœ€-å°-å¤§å †" class="headerlink" title="å®ç°ä¸€ä¸ªæœ€(å°)å¤§å †"></a>å®ç°ä¸€ä¸ªæœ€(å°)å¤§å †</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> Heap&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">protected</span> heap: T[] = [];</span><br><span class="line">  <span class="keyword">protected</span> getNumberForCompare: <span class="function">(<span class="params">val: T</span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">abstract</span> compare(indexA: <span class="built_in">number</span>, indexB: <span class="built_in">number</span>): <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">getNumberForCompare: (val: T) =&gt; <span class="built_in">number</span>, values: T[] = []</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.getNumberForCompare = getNumberForCompare;</span><br><span class="line">    <span class="keyword">this</span>.heapify(values);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// äº¤æ¢å †å†…å…ƒç´ </span></span><br><span class="line">  <span class="keyword">protected</span> swap(indexA: <span class="built_in">number</span>, indexB: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> temp = <span class="keyword">this</span>.heap[indexA];</span><br><span class="line">    <span class="keyword">this</span>.heap[indexA] = <span class="keyword">this</span>.heap[indexB];</span><br><span class="line">    <span class="keyword">this</span>.heap[indexB] = temp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å·¦å­©å­çš„ç´¢å¼•</span></span><br><span class="line">  <span class="keyword">protected</span> getLeftChildIndex(index: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * index + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å³å­©å­çš„ç´¢å¼•</span></span><br><span class="line">  <span class="keyword">protected</span> getRightChildIndex(index: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * index + <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–çˆ¶äº²èŠ‚ç‚¹çš„ç´¢å¼•</span></span><br><span class="line">  <span class="keyword">protected</span> getParentIndex(index: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> (index - <span class="number">1</span>) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–å»ºå †</span></span><br><span class="line">  <span class="keyword">protected</span> heapify(values: T[]) &#123;</span><br><span class="line">    <span class="keyword">this</span>.heap = values;</span><br><span class="line">    <span class="comment">// å®Œå…¨äºŒå‰æ ‘çš„å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯æ€»èŠ‚ç‚¹ä¸ªæ•°çš„ä¸€åŠã€‚</span></span><br><span class="line">    <span class="comment">// å¶å­èŠ‚ç‚¹æœ¬èº«ä¸éœ€è¦å †åŒ–ã€‚åªéœ€è¦ç­‰å¾…åé¢çš„èŠ‚ç‚¹å †åŒ–ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="keyword">this</span>.heap.length &gt;&gt;&gt; <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">      <span class="keyword">this</span>.heapifyDown(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘ä¸Šç»´æŠ¤å †</span></span><br><span class="line">  <span class="keyword">protected</span> heapifyUp(index: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentIndex = index;</span><br><span class="line">    <span class="keyword">let</span> parentIndex = <span class="keyword">this</span>.getParentIndex(currentIndex);</span><br><span class="line">    <span class="keyword">while</span> (parentIndex &gt;= <span class="number">0</span> &amp;&amp; <span class="keyword">this</span>.compare(currentIndex, parentIndex)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.swap(currentIndex, parentIndex);</span><br><span class="line">      currentIndex = parentIndex;</span><br><span class="line">      parentIndex = <span class="keyword">this</span>.getParentIndex(parentIndex);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘ä¸‹ç»´æŠ¤å †</span></span><br><span class="line">  <span class="keyword">protected</span> heapifyDown(index: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentIndex = index;</span><br><span class="line">    <span class="keyword">let</span> lChildIndex = <span class="keyword">this</span>.getLeftChildIndex(currentIndex);</span><br><span class="line">    <span class="keyword">let</span> rChildIndex = <span class="keyword">this</span>.getRightChildIndex(currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> size = <span class="keyword">this</span>.size();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å€¼å¤§äºå·¦å­©å­</span></span><br><span class="line">    <span class="keyword">if</span> (lChildIndex &lt; size &amp;&amp; <span class="keyword">this</span>.compare(lChildIndex, currentIndex)) &#123;</span><br><span class="line">      currentIndex = lChildIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å€¼å¤§äºå³å­©å­</span></span><br><span class="line">    <span class="keyword">if</span> (rChildIndex &lt; size &amp;&amp; <span class="keyword">this</span>.compare(rChildIndex, currentIndex)) &#123;</span><br><span class="line">      currentIndex = rChildIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰ç´¢å¼•è¢«æ›¿æ¢</span></span><br><span class="line">    <span class="keyword">if</span> (currentIndex !== index) &#123;</span><br><span class="line">      <span class="keyword">this</span>.swap(currentIndex, index);</span><br><span class="line">      <span class="keyword">this</span>.heapifyDown(currentIndex);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å †çš„å¤§å°</span></span><br><span class="line">  size() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.heap.length;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  isEmpty() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.heap.length === <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ’å…¥å…ƒç´ </span></span><br><span class="line">  insert(value: T): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.heap.push(value);</span><br><span class="line">      <span class="keyword">this</span>.heapifyUp(<span class="keyword">this</span>.heap.length - <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ é™¤å †é¡¶å…ƒç´ </span></span><br><span class="line">  extract(): T &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.isEmpty()) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.size() === <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">this</span>.heap.shift();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤æ¢å †é¡¶å’Œå †å°¾å…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.swap(<span class="number">0</span>, <span class="keyword">this</span>.heap.length - <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å‰”é™¤æœ€å°å…ƒç´ </span></span><br><span class="line">    <span class="keyword">const</span> top = <span class="keyword">this</span>.heap.pop();</span><br><span class="line">    <span class="comment">// é‡æ–°å †åŒ–</span></span><br><span class="line">    <span class="keyword">this</span>.heapifyDown(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> top;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å †é¡¶å…ƒç´ </span></span><br><span class="line">  top(): T &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.isEmpty() ? <span class="literal">null</span> : <span class="keyword">this</span>.heap[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å †å†…å…ƒç´ </span></span><br><span class="line">  values(): T[] &#123;</span><br><span class="line">    <span class="keyword">return</span> [...this.heap];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°é¡¶å †</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MinHeap&lt;T&gt; <span class="keyword">extends</span> Heap&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">protected</span> compare(indexA: <span class="built_in">number</span>, indexB: <span class="built_in">number</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="keyword">this</span>.getNumberForCompare(<span class="keyword">this</span>.heap[indexA]) &lt;</span><br><span class="line">      <span class="keyword">this</span>.getNumberForCompare(<span class="keyword">this</span>.heap[indexB])</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§é¡¶å †</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MaxHeap&lt;T&gt; <span class="keyword">extends</span> Heap&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">protected</span> compare(indexA: <span class="built_in">number</span>, indexB: <span class="built_in">number</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="keyword">this</span>.getNumberForCompare(<span class="keyword">this</span>.heap[indexA]) &gt;</span><br><span class="line">      <span class="keyword">this</span>.getNumberForCompare(<span class="keyword">this</span>.heap[indexB])</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.davideaversa.it/blog/typescript-binary-heap/" target="_blank" rel="noopener">Typescript binary heap</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å®Œå…¨äºŒå‰æ ‘&quot;&gt;&lt;a href=&quot;#å®Œå…¨äºŒå‰æ ‘&quot; class=&quot;headerlink&quot; title=&quot;å®Œå…¨äºŒå‰æ ‘&quot;&gt;&lt;/a&gt;å®Œå…¨äºŒå‰æ ‘&lt;/h2&gt;&lt;p&gt;å®Œå…¨äºŒå‰æ ‘æ˜¯æ»¡äºŒå‰æ ‘çš„ä¸€ç§é€€åŒ–ã€‚å®ƒåªç¼ºå°‘æœ€åä¸€æ’æœ€å³è¾¹çš„ä¸€äº›å…ƒç´ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/i</summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Express Koa Redux ä¸­é—´ä»¶åŸç†åˆ†æ</title>
    <link href="http://yoursite.com/2021/04/10/Express-Koa-Redux%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/"/>
    <id>http://yoursite.com/2021/04/10/Express-Koa-Redux%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/</id>
    <published>2021-04-10T12:23:57.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€æ—©æ¥è§¦ä¸­é—´ä»¶ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ express æ¡†æ¶çš„æ—¶å€™ï¼Œé‚£æ—¶å¯¹ä¸­é—´ä»¶çš„ä½œç”¨æœ‰äº†äº†è§£ï¼Œåé¢å†ä½¿ç”¨ Koa æ¡†æ¶æ—¶ï¼Œä¹Ÿé‡åˆ°äº†ä¸­é—´ä»¶ï¼Œæœ€å¤§çš„ä½¿ç”¨æ„Ÿå—å°±æ˜¯ä¸­é—´ä»¶çš„å‚æ•°ä¸ä¸€æ ·äº†ï¼Œå¯ä»¥ä½¿ç”¨<code>await</code>è¯­æ³•æ¥æ‰§è¡Œ<code>next()</code>å‡½æ•°ã€‚å‡ ä¹äºæ­¤åŒæ—¶ï¼Œä½¿ç”¨çš„ Redux ä¹Ÿæå‡ºäº†ä¸­é—´ä»¶çš„æ¦‚å¿µã€‚ä¸­é—´ä»¶çš„æ¦‚å¿µè¢«å¹¿æ³›çš„é‡‡ç”¨ï¼Œä¸€å®šæœ‰å…¶ä¼˜åŠ¿æ‰€åœ¨ã€‚<br>æœ¬ç¯‡æ–‡ç« å°è¯•åˆ†æå’Œæ¯”è¾ƒ Express Koa2 Redux è¿™ä¸‰ä¸ªæ¡†æ¶çš„å®ç°åŸç†ã€‚</p><p>è°ƒè¯•è¿™ä¸‰ä¸ªæ¡†æ¶çš„æºç å…¶å®éå¸¸ç®€å•ã€‚</p><ol><li>ä¹¦å†™ä¸€ä¸ª js æ–‡ä»¶ï¼Œç¼–å†™ä»£ç ã€‚</li><li>ä½¿ç”¨ vscode çš„ debug åŠŸèƒ½å¯åŠ¨ä»£ç ã€‚</li><li>ä½¿ç”¨ curl è¯·æ±‚ localhostã€‚</li></ol><h2 id="Express-çš„ä¸­é—´ä»¶"><a href="#Express-çš„ä¸­é—´ä»¶" class="headerlink" title="Express çš„ä¸­é—´ä»¶"></a>Express çš„ä¸­é—´ä»¶</h2><p>express æ˜¯å†…ç½®è·¯ç”±åŠŸèƒ½çš„ï¼Œå¹¶ä¸”åŒæ—¶å†…ç½®äº†<code>static</code>,<code>json</code>,<code>urlencoded</code> è¿™ä¸‰ä¸ªä¸­é—´ä»¶ã€‚</p><p>ä¸‹é¢æ˜¯å¯åŠ¨ä¸€ä¸ª express app å¹¶æ³¨å†Œ App-Level middleware çš„ä»£ç ã€‚é€šè¿‡è¿™æ®µä»£ç æ¥åˆ†æ express å¯åŠ¨å’Œä¸­é—´ä»¶è¿è¡Œæµç¨‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// expressç›¸å½“äºä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯app</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> <span class="title">middlewareA</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"1"</span>);</span><br><span class="line">  next();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"2"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> <span class="title">middlewareB</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"3"</span>);</span><br><span class="line">  next();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"4"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> <span class="title">middlewareC</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">"hello world"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç è¿”å›äº†ä¸€ä¸ª express å®ä¾‹ï¼Œä¸è¿‡è¿™ä¸ªå®ä¾‹ï¼Œæ˜¯ä¸€ä¸ªæŒ‚è½½äº†å¾ˆå¤šå±æ€§çš„å‡½æ•°ã€‚ä¸‹é¢æ˜¯<code>express()</code>çš„è°ƒç”¨ï¼Œåœ¨æºç ä¸­å°±æ˜¯<code>createApplication()</code>çš„è°ƒç”¨ã€‚å¦‚ä¸‹æ˜¯æºç éƒ¨åˆ†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// express/lib/express.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createApplication</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å®šä¹‰appæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</span></span><br><span class="line">  <span class="keyword">var</span> app = <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// app.handle æ˜¯é€šè¿‡mixinçš„æ–¹å¼ç»„åˆè¿›æ¥çš„</span></span><br><span class="line">    app.handle(req, res, next);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä½¿ç”¨ç»„åˆçš„æ–¹å¼ï¼Œç»™appè¿™ä¸ªå‡½æ•°ä¸ŠæŒ‚è½½é€šç”¨æ–¹æ³•ã€‚</span></span><br><span class="line">  mixin(app, EventEmitter.prototype, <span class="literal">false</span>);</span><br><span class="line">  mixin(app, proto, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// expose the prototype that will get set on requests</span></span><br><span class="line">  app.request = <span class="built_in">Object</span>.create(req, &#123;</span><br><span class="line">    app: &#123; <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: app &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// expose the prototype that will get set on responses</span></span><br><span class="line">  app.response = <span class="built_in">Object</span>.create(res, &#123;</span><br><span class="line">    app: &#123; <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: app &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  app.init();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›appå‡½æ•°</span></span><br><span class="line">  <span class="keyword">return</span> app;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>app é€šè¿‡ mixin çš„æ–¹å¼æŒ‚è½½äº†å¾ˆå¤šçš„æ–¹æ³•ï¼Œå…¶ä¸­å°±åŒ…å«äº† <code>use</code> å’Œ <code>listen</code> æ–¹æ³•ã€‚ä»–ä»¬çš„æºç å¦‚ä¸‹ã€‚ç²¾ç®€äº†ä¸€ä¸‹ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// express/lib/application.js</span></span><br><span class="line">app.use = <span class="function"><span class="keyword">function</span> <span class="title">use</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> path = <span class="string">"/"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// setup router</span></span><br><span class="line">  <span class="keyword">this</span>.lazyrouter();</span><br><span class="line">  <span class="keyword">var</span> router = <span class="keyword">this</span>._router;</span><br><span class="line"></span><br><span class="line">  fns.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å½“å‰çš„ä¸­é—´ä»¶å‡½æ•°ä¸æ˜¯express app</span></span><br><span class="line">    <span class="keyword">if</span> (!fn || !fn.handle || !fn.set) &#123;</span><br><span class="line">      <span class="comment">// æŠŠä¸­é—´ä»¶æŒ‚è½½åˆ°è·¯ç”±çš„è·Ÿè·¯å¾„ä¸‹ã€‚</span></span><br><span class="line">      <span class="keyword">return</span> router.use(path, fn);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œrouter å¾ˆé‡è¦ï¼Œå³ä½¿æ˜¯ App-Level ä¸­é—´ä»¶ï¼Œä¹Ÿæ˜¯æŒ‚è½½åˆ° router ä¸Šçš„ã€‚ä¸‹é¢çœ‹ä¸€ä¸‹ router çš„ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// express/lib/router/index.js</span></span><br><span class="line">proto.use = <span class="function"><span class="keyword">function</span> <span class="title">use</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> offset = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> path = <span class="string">"/"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// default path to '/'</span></span><br><span class="line">  <span class="comment">// disambiguate router.use([fn])</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> fn !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arg = fn;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">Array</span>.isArray(arg) &amp;&amp; arg.length !== <span class="number">0</span>) &#123;</span><br><span class="line">      arg = arg[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// first arg is the path</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> arg !== <span class="string">"function"</span>) &#123;</span><br><span class="line">      offset = <span class="number">1</span>;</span><br><span class="line">      path = fn;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> callbacks = flatten(slice.call(<span class="built_in">arguments</span>, offset));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; callbacks.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> fn = callbacks[i];</span><br><span class="line">    <span class="comment">// æ ¹æ®pathå’Œä¸­é—´ä»¶å‡½æ•°ç”Ÿæˆä¸€ä¸ªlayerå®ä¾‹</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œlayerå¤§æ¦‚å°±æ˜¯ï¼Œæ ¹æ®pathå°†å¤„ç†æµç¨‹åˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªå±‚ã€‚</span></span><br><span class="line">    <span class="keyword">var</span> layer = <span class="keyword">new</span> Layer(</span><br><span class="line">      path,</span><br><span class="line">      &#123;</span><br><span class="line">        sensitive: <span class="keyword">this</span>.caseSensitive,</span><br><span class="line">        strict: <span class="literal">false</span>,</span><br><span class="line">        end: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      fn</span><br><span class="line">    );</span><br><span class="line">    layer.route = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="comment">// æœ€åå°†layeræ¨å…¥ä¸€ä¸ªæ ˆä¸­ã€‚ç›¸å½“äºæŠŠä¸­é—´ä»¶ä¿å­˜äº†èµ·æ¥ã€‚</span></span><br><span class="line">    <span class="keyword">this</span>.stack.push(layer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ router çš„ä»£ç ï¼Œå°±æ˜¯æœ€ç»ˆå®ç°äº† <code>app.use</code> æ–¹æ³•ä¿å­˜ä¸­é—´ä»¶å‡½æ•°çš„é€»è¾‘ã€‚å¦‚æœæ–­ç‚¹è°ƒè¯•ï¼Œä¼šå‘ç°ä¸€ä¸ªæœ‰è¶£çš„äº‹å®ï¼Œå°±æ˜¯åœ¨æˆ‘ä»¬çš„ <code>middlewareA</code> ä¸­é—´ä»¶ä¹‹å‰ï¼Œexpress å·²ç»åŠ å…¥äº†ä¸¤ä¸ªé»˜è®¤çš„ layerã€‚å¦‚ä¸‹å›¾<br><img src="/images/image-20210410135049145.png" alt="image-20210410135049145"></p><p>ä¸‹é¢å†æ¥çœ‹ä¸‹ç¨‹åºè¿è¡Œå¹¶æ”¶åˆ°è¯·æ±‚åçš„æ‰§è¡Œæµç¨‹ã€‚é¦–å…ˆæ˜¯ <code>app.listen</code>ï¼Œé€šè¿‡ http.createServer æ„é€ äº†ä¸€ä¸ª server å®ä¾‹ï¼Œå®ä¾‹çš„å›è°ƒå‡½æ•°ï¼Œå°±æ˜¯ app æœ¬èº«ï¼Œè¿™ç§å†™æ³•ä¹Ÿæ˜¯éå¸¸éªšäº†ï¼ŒæŠŠä¸€ä¸ª app å‡½æ•°ç©å¼„äºè‚¡æŒä¹‹é—´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.listen = <span class="function"><span class="keyword">function</span> <span class="title">listen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> server = http.createServer(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">return</span> server.listen.apply(server, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä» <code>createApplication</code> å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œapp å‡½æ•°æœ¬èº«ï¼Œå°±æ˜¯è°ƒç”¨äº† <code>app.handle</code>,è€Œ <code>app.handle</code> åˆæ˜¯è°ƒç”¨äº†<code>router.handle</code> å›§ã€‚æ‰€ä»¥æˆ‘ä»¬çš„æ¯ä¸ªè¯·æ±‚ï¼Œå…¶å®æœ€ç»ˆå°±æ˜¯ç”± <code>router.handle</code> æ¥å¤„ç†äº†ï¼Œå¹¶ä¸”ä¼šåœ¨è¿™é‡Œå±•å¼€å¯¹æ‰€æœ‰ä¸­é—´ä»¶çš„è°ƒç”¨ã€‚<br>è¿™ä¸ªä»£ç å¾ˆé•¿ï¼Œæˆ‘ä»¬ç²¾ç®€ä¸€ä¸‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// express/lib/router/index.js</span></span><br><span class="line">proto.handle = <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params">req, res, out</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> idx = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> protohost = getProtohost(req.url) || <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">var</span> removed = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">var</span> slashAdded = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">var</span> paramcalled = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// store options for OPTIONS request</span></span><br><span class="line">  <span class="comment">// only used if OPTIONS request</span></span><br><span class="line">  <span class="keyword">var</span> options = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// middleware and routes</span></span><br><span class="line">  <span class="keyword">var</span> stack = self.stack;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// manage inter-router variables</span></span><br><span class="line">  <span class="keyword">var</span> done = restore(out, req, <span class="string">"baseUrl"</span>, <span class="string">"next"</span>, <span class="string">"params"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// setup next layer</span></span><br><span class="line">  req.next = next;</span><br><span class="line"></span><br><span class="line">  next();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> layerError = err === <span class="string">"route"</span> ? <span class="literal">null</span> : err;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// signal to exit router</span></span><br><span class="line">    <span class="keyword">if</span> (layerError === <span class="string">"router"</span>) &#123;</span><br><span class="line">      setImmediate(done, <span class="literal">null</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// no more matching layers</span></span><br><span class="line">    <span class="keyword">if</span> (idx &gt;= stack.length) &#123;</span><br><span class="line">      setImmediate(done, layerError);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// get pathname of request</span></span><br><span class="line">    <span class="keyword">var</span> path = getPathname(req);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (path == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> done(layerError);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// find next matching layer</span></span><br><span class="line">    <span class="keyword">var</span> layer;</span><br><span class="line">    <span class="keyword">var</span> match;</span><br><span class="line">    <span class="keyword">var</span> route;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (match !== <span class="literal">true</span> &amp;&amp; idx &lt; stack.length) &#123;</span><br><span class="line">      layer = stack[idx++];</span><br><span class="line">      match = matchLayer(layer, path);</span><br><span class="line">      route = layer.route;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> match !== <span class="string">"boolean"</span>) &#123;</span><br><span class="line">        <span class="comment">// hold on to layerError</span></span><br><span class="line">        layerError = layerError || match;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (match !== <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!route) &#123;</span><br><span class="line">        <span class="comment">// process non-route handlers normally</span></span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (layerError) &#123;</span><br><span class="line">        <span class="comment">// routes do not match with a pending error</span></span><br><span class="line">        match = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> method = req.method;</span><br><span class="line">      <span class="keyword">var</span> has_method = route._handles_method(method);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// build up automatic options response</span></span><br><span class="line">      <span class="keyword">if</span> (!has_method &amp;&amp; method === <span class="string">"OPTIONS"</span>) &#123;</span><br><span class="line">        appendMethods(options, route._options());</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// don't even bother matching route</span></span><br><span class="line">      <span class="keyword">if</span> (!has_method &amp;&amp; method !== <span class="string">"HEAD"</span>) &#123;</span><br><span class="line">        match = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// no match</span></span><br><span class="line">    <span class="keyword">if</span> (match !== <span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> done(layerError);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// store route for dispatch on change</span></span><br><span class="line">    <span class="keyword">if</span> (route) &#123;</span><br><span class="line">      req.route = route;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Capture one-time layer values</span></span><br><span class="line">    req.params = self.mergeParams</span><br><span class="line">      ? mergeParams(layer.params, parentParams)</span><br><span class="line">      : layer.params;</span><br><span class="line">    <span class="keyword">var</span> layerPath = layer.path;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// this should be done for the layer</span></span><br><span class="line">    self.process_params(layer, paramcalled, req, res, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> next(layerError || err);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (route) &#123;</span><br><span class="line">        <span class="keyword">return</span> layer.handle_request(req, res, next);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      trim_prefix(layer, layerError, layerPath, path);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (layerError) &#123;</span><br><span class="line">      layer.handle_error(layerError, req, res, next);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      layer.handle_request(req, res, next);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå…³é”®çš„å°±æ˜¯ next å‡½æ•°äº†ï¼Œnext å‡½æ•°å¼•ç”¨äº†ä¸€ä¸ªå¤–éƒ¨å˜é‡ idx ï¼Œå½¢æˆäº†ä¸€ä¸ªåŒ…å« idx çš„é—­åŒ…ï¼Œnext å‡½æ•°æ¯æ¬¡æ‰§è¡Œï¼Œéƒ½ä¼šæ‰¾åˆ°ä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„ä¸­é—´ä»¶(layer), ç„¶åæ‰§è¡Œ <code>layer.handle_request(req, res, next);</code> , åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå°† next å‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè¿™æ ·å½“ä¸­é—´ä»¶æ‰§è¡Œ next çš„æ—¶å€™ï¼Œåˆä¼šé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚é€šè¿‡ next çš„æ‰§è¡Œï¼Œä¸²èµ·äº†ä¸€ä¸ªä¸€ä¸ªä¸­é—´ä»¶ã€‚</p><h3 id="Express-ä¸­é—´ä»¶çš„æ€»ç»“"><a href="#Express-ä¸­é—´ä»¶çš„æ€»ç»“" class="headerlink" title="Express ä¸­é—´ä»¶çš„æ€»ç»“"></a>Express ä¸­é—´ä»¶çš„æ€»ç»“</h3><p>ç¬¬ä¸€æ®µä»£ç çš„è¾“å‡ºä¸º <code>1 3 4 2</code>, å…¶å®ä¹Ÿå¯ä»¥è¯´ express çš„ä¸­é—´ä»¶æ‰§è¡Œé¡ºåºç±»ä¼¼ä¸æ´‹è‘±åœˆæ¨¡å‹ã€‚ä½†æ˜¯ï¼Œexpress ç»“æŸè¯·æ±‚ï¼Œè¿”å›å“åº”çš„æ ‡å¿—æ˜¯ <code>res.send</code> ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦è°ƒç”¨äº† <code>res.send</code>,é‚£ä¹ˆå“åº”ä¹Ÿå°±ç»“æŸäº†ï¼Œè™½ç„¶ååºçš„ä»£ç ä»ç„¶ä¼šç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯å·²ç»å½±å“ä¸åˆ°å“åº”äº†ã€‚è¿™ä¹Ÿæ˜¯å’Œ koa çš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚</p><p>å¦ä¸€ä¸ªè¦è¯´æ˜çš„å°±æ˜¯ï¼Œexpress ç›¸å¯¹äº koaï¼Œå†…ç½®äº†è·¯ç”±ç³»ç»Ÿï¼Œç”šè‡³ä¸­é—´ä»¶ä¹Ÿæ˜¯æŒ‚è½½åœ¨è·¯ç”±ä¸Šçš„ï¼Œå› æ­¤æºä»£ç æ¯” koa æ›´åŠ å¤æ‚ã€‚express æˆå‹çš„æ—¶é—´æ¯”è¾ƒæ—©ï¼Œå†…éƒ¨çš„å†™æ³•è¿˜éƒ½æ˜¯å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰æ˜æ˜¾çš„ä½¿ç”¨ promise async await ç­‰å…ˆè¿›çš„ç‰¹æ€§ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li>[1] <a href="http://expressjs.com/en/guide/using-middleware.html" target="_blank" rel="noopener">express</a></li><li>[2] <a href="https://cloud.tencent.com/developer/article/1467268" target="_blank" rel="noopener">koa å’Œ express ä¸­é—´ä»¶æ­ç§˜</a></li><li>[3] <a href="https://zhuanlan.zhihu.com/p/87079561" target="_blank" rel="noopener">express å’Œ koa çš„åŒºåˆ«</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€æ—©æ¥è§¦ä¸­é—´ä»¶ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ express æ¡†æ¶çš„æ—¶å€™ï¼Œé‚£æ—¶å¯¹ä¸­é—´ä»¶çš„ä½œç”¨æœ‰äº†äº†è§£ï¼Œåé¢å†ä½¿ç”¨ Koa æ¡†æ¶æ—¶ï¼Œä¹Ÿé‡åˆ°äº†ä¸­é—´ä»¶ï¼Œæœ€å¤§çš„ä½¿ç”¨æ„Ÿå—å°±æ˜¯ä¸­é—´ä»¶çš„å‚æ•°ä¸ä¸€æ ·äº†ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;await&lt;/code&gt;è¯­æ³•æ¥æ‰§è¡Œ&lt;code&gt;next()&lt;/code&gt;å‡½æ•°ã€‚å‡ ä¹</summary>
      
    
    
    
    
    <category term="ä¸­é—´ä»¶" scheme="http://yoursite.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    <category term="express" scheme="http://yoursite.com/tags/express/"/>
    
    <category term="koa" scheme="http://yoursite.com/tags/koa/"/>
    
    <category term="redux" scheme="http://yoursite.com/tags/redux/"/>
    
  </entry>
  
  <entry>
    <title>äºŒå‰æ ‘ç³»åˆ—</title>
    <link href="http://yoursite.com/2021/04/07/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/04/07/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%B3%BB%E5%88%97/</id>
    <published>2021-04-07T09:51:15.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<p>(æœç´¢)äºŒå‰æ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œæ“ä½œå’Œåˆ¤æ–­ç‰¹åˆ«å¤šï¼Œè¿™ç¯‡æ–‡ç« å½’çº³å’Œæ•´ç†ä¸€ä¸‹å®ƒçš„å¸¸è§æ“ä½œã€‚ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡æ˜¯ï¼Œå…³äºäºŒå‰æ ‘ï¼Œæœ‰å¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆä¸¤ç§æœç´¢åŠæ³•ã€‚å¦‚æœæ˜¯å¹¿åº¦ä¼˜å…ˆï¼Œå¸¸è§„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ— queueã€‚å¦‚æœæ˜¯æ·±åº¦ä¼˜å…ˆï¼Œå¸¸è§„åšæ³•æ˜¯ä½¿ç”¨é€’å½’ã€‚</p><ul><li>éªŒè¯äºŒå‰æœç´¢æ ‘</li><li>å¯¹ç§°äºŒå‰æ ‘</li><li>äºŒå‰æ ‘çš„å‰ä¸­ååºéå†</li><li>äºŒå‰æ ‘çš„å±‚æ¬¡éå†/é”¯å½¢å±‚æ¬¡éå†</li><li>äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ</li><li>äºŒå‰æ ‘æœ€å¤§/æœ€å°æ·±åº¦</li><li>åˆ é™¤äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹</li><li>ä»ä¸­åºéå†å’Œååºéå†æ„é€ äºŒå‰æ ‘</li></ul><h2 id="éªŒè¯äºŒå‰æœç´¢æ ‘-98"><a href="#éªŒè¯äºŒå‰æœç´¢æ ‘-98" class="headerlink" title="éªŒè¯äºŒå‰æœç´¢æ ‘ 98"></a>éªŒè¯äºŒå‰æœç´¢æ ‘ 98</h2><p>éªŒè¯ä¸€æ£µæ ‘æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚éƒ½æ˜¯åŸºäºäºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ã€‚</p><ul><li>åŸºäºäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœæ˜¯å‡åºåºåˆ—ã€‚<ul><li>ä¸­åºéå†æ•´ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œéå†çš„è¿‡ç¨‹ä¸­æŸ¥éªŒæ˜¯å¦ä¸ºå‡åºã€‚</li></ul></li><li>åŸºäºèŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹çš„å€¼ï¼Œå‡å°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼›èŠ‚ç‚¹çš„å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œå‡å¤§äºå½“å‰èŠ‚ç‚¹çš„å€¼ã€‚<ul><li>æ ¹èŠ‚ç‚¹çš„å€¼çš„èŒƒå›´ä¸º(-Infinity,Infinity)ã€‚å…¶å·¦å­èŠ‚ç‚¹çš„å€¼åº”è¯¥å°äº root.val, æ‰€ä»¥èŒƒå›´åº”è¯¥ä¸º(-Infinity,root.val)ã€‚åŒç†ï¼Œå³å­èŠ‚ç‚¹çš„èŒƒå›´åº”è¯¥ä¸º(root.val,Infinity)ã€‚æ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åº”è¯¥æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶ã€‚</li></ul></li></ul><h3 id="é€’å½’ä»£ç "><a href="#é€’å½’ä»£ç " class="headerlink" title="é€’å½’ä»£ç "></a>é€’å½’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">root: TreeNode | <span class="literal">null</span>, min: <span class="built_in">number</span>, max: <span class="built_in">number</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="comment">// ä¸æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">  <span class="keyword">if</span> (root.val &lt;= min || root.val &gt;= max) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// é€’å½’éªŒè¯å·¦å³å­©å­æ˜¯å¦æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">  <span class="keyword">return</span> helper(root.left, min, root.val) &amp;&amp; helper(root.right, root.val, max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isValidBST</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="comment">// rootèŠ‚ç‚¹çš„å–å€¼èŒƒå›´ä¸º(-Infinity,Infinity)</span></span><br><span class="line">  <span class="keyword">return</span> helper(root, -<span class="literal">Infinity</span>, <span class="literal">Infinity</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯¹ç§°äºŒå‰æ ‘-å‰‘æŒ‡-offer28"><a href="#å¯¹ç§°äºŒå‰æ ‘-å‰‘æŒ‡-offer28" class="headerlink" title="å¯¹ç§°äºŒå‰æ ‘ å‰‘æŒ‡ offer28"></a>å¯¹ç§°äºŒå‰æ ‘ å‰‘æŒ‡ offer28</h2><p>éªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦ä¸ºå¯¹ç§°äºŒå‰æ ‘ï¼Œä¼˜é›…çš„æ–¹æ¡ˆè¿˜æ˜¯é€’å½’ï¼Œæ¯•ç«Ÿè¦ä¸€å±‚ä¸€å±‚çš„æ¯”è¾ƒï¼Œè€Œä¸”æ¯æ¬¡æ¯”è¾ƒçš„æ¨¡å¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><h3 id="é€’å½’ä»£ç -1"><a href="#é€’å½’ä»£ç -1" class="headerlink" title="é€’å½’ä»£ç "></a>é€’å½’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">left: TreeNode | <span class="literal">null</span>, right: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!left &amp;&amp; !right) &#123;</span><br><span class="line">    <span class="comment">// éƒ½ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &amp;&amp; right) &#123;</span><br><span class="line">    <span class="keyword">if</span> (left.val === right.val) &#123;</span><br><span class="line">      <span class="comment">// å½“å‰ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¯¹ç§°çš„ï¼Œç»§ç»­å»éªŒè¯ä»–ä»¬çš„å­©å­æ˜¯å¦å¯¹ç§°</span></span><br><span class="line">      <span class="keyword">return</span> helper(left.left, right.right) &amp;&amp; helper(left.right, right.left);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ä¸å¯¹ç§°ç›¸ç­‰</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// leftæˆ–è€…rightï¼Œåªå­˜åœ¨ä¸€ä¸ª</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isSymmetric</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> helper(root, root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„å‰ä¸­ååºéå†-94"><a href="#äºŒå‰æ ‘çš„å‰ä¸­ååºéå†-94" class="headerlink" title="äºŒå‰æ ‘çš„å‰ä¸­ååºéå† 94"></a>äºŒå‰æ ‘çš„å‰ä¸­ååºéå† 94</h2><p>è¿™é‡Œä»¥äºŒå‰æ ‘çš„ä¸­åºéå†ä¸ºä¾‹å­ã€‚ä½¿ç”¨é€’å½’ï¼Œä¸­åºéå†çš„å®ç°å¾ˆå®¹æ˜“å®ç°ï¼ˆä»£ç ç®€å•ï¼‰ã€‚æ¯”è¾ƒéš¾ï¼ˆæˆ–è€…è¯´ä¸å®¹æ˜“è®°ä½å’Œç†è§£ï¼‰çš„æ˜¯ä½¿ç”¨è¿­ä»£çš„æ–¹å¼æ¥éå†ã€‚<br>ä¸è¿‡è¯è¯´å›æ¥ï¼Œæ˜æ˜é€’å½’çš„ä»£ç çœ‹ä¸Šå»æ›´ç®€æ´æ˜äº†ï¼Œå¯èƒ½æ˜¯æ›´ç¬¦åˆäººä»¬çš„æ€ç»´ä¹ æƒ¯ã€‚ç›¸åå¦‚æœæ˜¯ä½¿ç”¨è¿­ä»£ï¼Œç¡®éœ€è¦è‚¯å®šçš„ç†è§£å…¶æ‰§è¡Œè¿‡ç¨‹ ğŸ˜–ã€‚</p><h3 id="é€’å½’ä»£ç -2"><a href="#é€’å½’ä»£ç -2" class="headerlink" title="é€’å½’ä»£ç "></a>é€’å½’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">root: TreeNode | <span class="literal">null</span>, res: <span class="built_in">number</span>[]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  helper(root.left, res);</span><br><span class="line">  res.push(root.val);</span><br><span class="line">  helper(root.right, res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inorderTraversal</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res: <span class="built_in">number</span>[] = [];</span><br><span class="line">  helper(root, res);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿­ä»£ä»£ç "><a href="#è¿­ä»£ä»£ç " class="headerlink" title="è¿­ä»£ä»£ç "></a>è¿­ä»£ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inorderTraversal</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="comment">// æ—¢ç„¶æ˜¯é€’å½’ï¼Œå°±è¦ç”¨æ ˆæ¥æ¨¡æ‹Ÿå’¯</span></span><br><span class="line">  <span class="keyword">const</span> stack = [];</span><br><span class="line">  <span class="keyword">while</span> (stack.length || root) &#123;</span><br><span class="line">    <span class="keyword">while</span> (root) &#123;</span><br><span class="line">      stack.push(root);</span><br><span class="line">      root = root.left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­¤æ—¶çš„rootä¸ºnullï¼Œæ ˆé¡¶å…ƒç´ å°±æ˜¯æœ€å·¦è¾¹çš„å¶å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">// å¼¹å‡ºå¹¶è®¿é—®</span></span><br><span class="line">    <span class="keyword">const</span> node = stack.pop();</span><br><span class="line">    res.push(node.val);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼Œå¼€å§‹å‡†å¤‡éå†å³å­æ ‘</span></span><br><span class="line">    root = node.right;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„å±‚æ¬¡éå†"><a href="#äºŒå‰æ ‘çš„å±‚æ¬¡éå†" class="headerlink" title="äºŒå‰æ ‘çš„å±‚æ¬¡éå†"></a>äºŒå‰æ ‘çš„å±‚æ¬¡éå†</h2><ul><li>ä½¿ç”¨é€’å½’ï¼Œä¹Ÿå°±æ˜¯ dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</li><li>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿å­˜è¢«è®¿é—®çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚</li></ul><h3 id="é€’å½’ä»£ç -3"><a href="#é€’å½’ä»£ç -3" class="headerlink" title="é€’å½’ä»£ç "></a>é€’å½’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">root: TreeNode | <span class="literal">null</span>, index: <span class="built_in">number</span>, res: <span class="built_in">number</span>[][]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  res[index] ? res[index].push(root.val) : (res[index] = [root.val]);</span><br><span class="line"></span><br><span class="line">  helper(root.left, index + <span class="number">1</span>, res);</span><br><span class="line">  helper(root.right, index + <span class="number">1</span>, res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">levelOrder</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  helper(root, <span class="number">0</span>, res);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿­ä»£ä»£ç -1"><a href="#è¿­ä»£ä»£ç -1" class="headerlink" title="è¿­ä»£ä»£ç "></a>è¿­ä»£ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">levelOrder</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line">  <span class="keyword">const</span> queue = [root];</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">while</span> (queue.length) &#123;</span><br><span class="line">    <span class="keyword">const</span> length = queue.length;</span><br><span class="line">    <span class="keyword">const</span> temp = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> node = queue.shift();</span><br><span class="line">      temp.push(node.val);</span><br><span class="line">      <span class="keyword">if</span> (node.left) queue.push(node.left);</span><br><span class="line">      <span class="keyword">if</span> (node.right) queue.push(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">    res.push(temp);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>å‰ææ¡ä»¶æ˜¯ p å’Œ q éƒ½æ˜¯æ ‘ä¸­çš„èŠ‚ç‚¹ã€‚</p><h3 id="é€’å½’ä»£ç -4"><a href="#é€’å½’ä»£ç -4" class="headerlink" title="é€’å½’ä»£ç "></a>é€’å½’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lowestCommonAncestor</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  root: TreeNode | <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  p: TreeNode | <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  q: TreeNode | <span class="literal">null</span></span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">TreeNode</span> | <span class="title">null</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> root;</span><br><span class="line">  <span class="keyword">if</span> (root === p || root === q) <span class="keyword">return</span> root;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> left = lowestCommonAncestor(root.left, p, q);</span><br><span class="line">  <span class="keyword">const</span> right = lowestCommonAncestor(root.right, p, q);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (left &amp;&amp; right) &#123;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left) &#123;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> right;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a>äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h2><p>é€’å½’æ±‚å‡ºå·¦å³å­æ ‘æ·±åº¦çš„æœ€å¤§å€¼ï¼Œç„¶ååŠ  1ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxDepth</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max(maxDepth(root.left), maxDepth(root.right)) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minDepth</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (!root.left &amp;&amp; !root.right) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> min = <span class="literal">Infinity</span>;</span><br><span class="line">  <span class="keyword">if</span> (root.left) &#123;</span><br><span class="line">    min = <span class="built_in">Math</span>.min(minDepth(root.left), min);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (root.right) &#123;</span><br><span class="line">    min = <span class="built_in">Math</span>.min(minDepth(root.right), min);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> min + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;(æœç´¢)äºŒå‰æ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Œæ“ä½œå’Œåˆ¤æ–­ç‰¹åˆ«å¤šï¼Œè¿™ç¯‡æ–‡ç« å½’çº³å’Œæ•´ç†ä¸€ä¸‹å®ƒçš„å¸¸è§æ“ä½œã€‚ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡æ˜¯ï¼Œå…³äºäºŒå‰æ ‘ï¼Œæœ‰å¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆä¸¤ç§æœç´¢åŠæ³•ã€‚å¦‚æœæ˜¯å¹¿åº¦ä¼˜å…ˆï¼Œå¸¸è§„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ— queueã€‚å¦‚æœæ˜¯æ·±åº¦ä¼˜å…ˆï¼Œå¸¸è§„åšæ³•æ˜¯ä½¿ç”¨é€’å½’ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;éªŒè¯äºŒå‰æœç´¢</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸ç”¨React hooks</title>
    <link href="http://yoursite.com/2021/04/05/%E5%B8%B8%E7%94%A8React-hooks/"/>
    <id>http://yoursite.com/2021/04/05/%E5%B8%B8%E7%94%A8React-hooks/</id>
    <published>2021-04-05T21:32:11.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<p>React hooks å·²ç»å¾ˆæ™®åŠäº†ã€‚è®°å½•å’Œæ•´ç†ä¸€äº›æ¯”è¾ƒé€šç”¨çš„ hookã€‚</p><h2 id="useMount"><a href="#useMount" class="headerlink" title="useMount"></a>useMount</h2><p>è¿”å›ç»„ä»¶æŒ‚è½½çš„çŠ¶æ€ã€‚å¯ä»¥åœ¨ä¸€äº›å¼‚æ­¥å¤„ç†ä¹‹åï¼Œåˆ¤æ–­ç»„ä»¶æ˜¯å¦å·²ç»è¢«å¸è½½ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useMount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> mount = useRef(<span class="literal">false</span>);</span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    mount.current = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      mount.current = <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> mount.current;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="usePreProps"><a href="#usePreProps" class="headerlink" title="usePreProps"></a>usePreProps</h2><p>è¿”å›ä¸Šä¸€æ¬¡çš„ propsï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­æŸä¸ª props æ˜¯å¦æ”¹å˜ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">usePreProps</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> ref = useRef(props);</span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ref.current = props;</span><br><span class="line">  &#125;, [props]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// return ref.current === props; // åˆ¤æ–­å±æ€§æ˜¯å¦æ”¹å˜</span></span><br><span class="line">  <span class="keyword">return</span> ref.current; <span class="comment">// è¿”å›ä¸Šä¸€æ¬¡çš„å±æ€§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="useOnScreen"><a href="#useOnScreen" class="headerlink" title="useOnScreen"></a>useOnScreen</h2><p>è¿”å›ç»„ä»¶æ˜¯å¦æ›å…‰ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useOnScreen = <span class="function">(<span class="params">ref: React.RefObject&lt;<span class="built_in">any</span>&gt;, rootMargin = "0px"</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!ref || !ref.current) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [intersecting, setIntersecting] = useState(<span class="literal">false</span>); <span class="comment">// æ˜¯å¦å·²ç»æ›å…‰</span></span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> ovserver = <span class="keyword">new</span> IntersectionObserver(</span><br><span class="line">      ([entry]) =&gt; &#123;</span><br><span class="line">        setIntersecting(entry.isIntersecting);</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; rootMargin &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    ovserver.observe(ref.current);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      observer.unobserve(ref.current);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [intersecting];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;React hooks å·²ç»å¾ˆæ™®åŠäº†ã€‚è®°å½•å’Œæ•´ç†ä¸€äº›æ¯”è¾ƒé€šç”¨çš„ hookã€‚&lt;/p&gt;&lt;h2 id=&quot;useMount&quot;&gt;&lt;a href=&quot;#useMount&quot; class=&quot;headerlink&quot; title=&quot;useMount&quot;&gt;&lt;/a&gt;useMount&lt;/h2&gt;&lt;p&gt;è¿”å›</summary>
      
    
    
    
    
    <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>leetcode-næ•°ä¹‹å’Œç³»åˆ—</title>
    <link href="http://yoursite.com/2021/03/26/leetcode-N%E6%95%B0%E4%B9%8B%E5%92%8C%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/26/leetcode-N%E6%95%B0%E4%B9%8B%E5%92%8C%E7%B3%BB%E5%88%97/</id>
    <published>2021-03-26T09:17:51.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="N-æ•°ä¹‹å’Œç³»åˆ—"><a href="#N-æ•°ä¹‹å’Œç³»åˆ—" class="headerlink" title="N æ•°ä¹‹å’Œç³»åˆ—"></a>N æ•°ä¹‹å’Œç³»åˆ—</h1><h2 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ª targetï¼Œæ‰¾åˆ°æ•°ç»„ä¸­æ‰€æœ‰ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º target çš„ç»„åˆã€‚è¿™é‡Œä¸ºäº†åé¢ N æ•°ä¹‹å’Œåšå‡†å¤‡ï¼Œä¸æ˜¯è¿”å›ä¸€ä¸ªç»„åˆã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">twoSum</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="comment">// å…ˆæ’åºæ•°ç»„</span></span><br><span class="line">  nums.sorts(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åŒæŒ‡é’ˆéå†</span></span><br><span class="line">  <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">    <span class="keyword">const</span> lVal = nums[left];</span><br><span class="line">    <span class="keyword">const</span> rVal = nums[right];</span><br><span class="line">    <span class="keyword">if</span> (lVal + rVal === target) &#123;</span><br><span class="line">      res.push([lVal, rVal]);</span><br><span class="line">      <span class="comment">// æ’é™¤é‡å¤çš„</span></span><br><span class="line">      <span class="keyword">while</span> (nums[left] === lVal) left++;</span><br><span class="line">      <span class="keyword">while</span> (nums[right] === rVal) right--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (lVal + rVal &lt; target) &#123;</span><br><span class="line">      left++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰æ•°ä¹‹å’Œ"><a href="#ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="ä¸‰æ•°ä¹‹å’Œ"></a>ä¸‰æ•°ä¹‹å’Œ</h2><p>æœ‰äº†ä¸¤æ•°ä¹‹å’Œï¼Œä¸‰æ•°ä¹‹å’Œçš„è®¡ç®—å°±å¯ä»¥ä¾èµ–ç°æœ‰çš„ä¸¤æ•°ä¹‹å’Œçš„å‡½æ•°ï¼Œä½†æ˜¯è¦ç¨å¾®æ”¹é€ ä¸€ä¸‹ã€‚</p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´åŠ æ³›å‹ï¼ˆé€šç”¨ï¼‰çš„ä¸¤æ•°ä¹‹å’Œå‡½æ•°</span></span><br><span class="line"><span class="comment">// é»˜è®¤æ•°ç»„å·²ç»æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">twoSum</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span>, start: <span class="built_in">number</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="comment">// åŒæŒ‡é’ˆéå†</span></span><br><span class="line">  <span class="keyword">let</span> left = start;</span><br><span class="line">  <span class="keyword">let</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">    <span class="keyword">const</span> lVal = nums[left];</span><br><span class="line">    <span class="keyword">const</span> rVal = nums[right];</span><br><span class="line">    <span class="keyword">if</span> (lVal + rVal === target) &#123;</span><br><span class="line">      res.push([lVal, rVal]);</span><br><span class="line">      <span class="comment">// æ’é™¤é‡å¤çš„</span></span><br><span class="line">      <span class="keyword">while</span> (nums[left] === lVal) left++;</span><br><span class="line">      <span class="keyword">while</span> (nums[right] === rVal) right--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (lVal + rVal &lt; target) &#123;</span><br><span class="line">      left++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">threeSum</span>(<span class="params">nums: <span class="built_in">number</span>[]</span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (nums.length &lt; <span class="number">3</span>) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  nums.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="comment">// éå†ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œä¸‹é¢è¦æ±‚ä¸¤æ•°ä¹‹å’Œï¼Œå’Œä¸ºtarget-nums[i]</span></span><br><span class="line">    <span class="keyword">const</span> newTarget = <span class="number">0</span> - nums[i];</span><br><span class="line">    <span class="keyword">const</span> newStart = i + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> temp = twoSum(nums, newTarget, newStart);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; temp.length; j++) &#123;</span><br><span class="line">      res.push([nums[i], ...temp[j]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å»é™¤é‡å¤çš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">while</span> (nums[i] === nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="N-æ•°ä¹‹å’Œ"><a href="#N-æ•°ä¹‹å’Œ" class="headerlink" title="N æ•°ä¹‹å’Œ"></a>N æ•°ä¹‹å’Œ</h2><p>æœ‰äº†ä¸Šé¢çš„ä¾‹å­ï¼Œç»§è€Œæ¨æ¼”å‡º N æ•°ä¹‹å’Œçš„é€šç”¨æ–¹æ³•ï¼Œä¹Ÿå°±æœ‰äº†æ€è·¯ã€‚æ¯æ¬¡ç¡®å®šä¸€ä¸ªæ•°å­—ï¼Œæœ€ç»ˆåªå‰©ä¸¤ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå°±æ˜¯è°ƒç”¨ä¸¤æ•°ä¹‹å’Œçš„æ—¶å€™ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¸¸è§„çš„æƒ³æ³•æ˜¯ N æ˜¯å‡ ï¼Œå°±è¿›è¡Œ N-1 å±‚éå†ã€‚è¿™é‡Œ N æ˜¯æœªçŸ¥çš„ã€‚ä¸è¿‡å¯ä»¥ä½¿ç”¨é€’å½’ï¼Œæ¥ä¸€å±‚ä¸€å±‚çš„å‡å°‘ N</p><h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´åŠ æ³›å‹ï¼ˆé€šç”¨ï¼‰çš„ä¸¤æ•°ä¹‹å’Œå‡½æ•°</span></span><br><span class="line"><span class="comment">// é»˜è®¤æ•°ç»„å·²ç»æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">twoSum</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span>, start: <span class="built_in">number</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="comment">// åŒæŒ‡é’ˆéå†</span></span><br><span class="line">  <span class="keyword">let</span> left = start;</span><br><span class="line">  <span class="keyword">let</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">    <span class="keyword">const</span> lVal = nums[left];</span><br><span class="line">    <span class="keyword">const</span> rVal = nums[right];</span><br><span class="line">    <span class="keyword">if</span> (lVal + rVal === target) &#123;</span><br><span class="line">      res.push([lVal, rVal]);</span><br><span class="line">      <span class="comment">// æ’é™¤é‡å¤çš„</span></span><br><span class="line">      <span class="keyword">while</span> (nums[left] === lVal) left++;</span><br><span class="line">      <span class="keyword">while</span> (nums[right] === rVal) right--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (lVal + rVal &lt; target) &#123;</span><br><span class="line">      left++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œæ•°ç»„å·²ç»æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nSum</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  nums: <span class="built_in">number</span>[][],</span></span></span><br><span class="line"><span class="function"><span class="params">  target: <span class="built_in">number</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  n: <span class="built_in">number</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  start: <span class="built_in">number</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  visited: <span class="built_in">number</span>[],</span></span></span><br><span class="line"><span class="function"><span class="params">  ans: <span class="built_in">number</span>[][] = []</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  <span class="comment">// æ³¨æ„è¿™é‡Œæ˜¯å¤§äº</span></span><br><span class="line">  <span class="keyword">if</span> (n + start &gt; nums.length) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥è°ƒç”¨ä¸¤æ•°ä¹‹å’Œ</span></span><br><span class="line">    <span class="keyword">const</span> temp = twoSum(nums, target, start);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">      ans.push([...visited, ...temp[i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// nå¤§äº2</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; nums.length; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> newTarget = target - nums[i];</span><br><span class="line">      <span class="keyword">const</span> newN = n - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">const</span> newStart = i + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">const</span> newVisited = [...visited, nums[i]];</span><br><span class="line">      nSum(nums, newTarget, newN, newStart, newVisited, ans);</span><br><span class="line">      <span class="comment">// å»é™¤é‡å¤çš„</span></span><br><span class="line">      <span class="keyword">while</span> (nums[i] === nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å¦‚æ±‚å››æ•°ä¹‹å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fourSum</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="title">number</span>[][] </span>&#123;</span><br><span class="line">  nums.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">return</span> nSum(nums, target, <span class="number">4</span>, <span class="number">0</span>, []);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;N-æ•°ä¹‹å’Œç³»åˆ—&quot;&gt;&lt;a href=&quot;#N-æ•°ä¹‹å’Œç³»åˆ—&quot; class=&quot;headerlink&quot; title=&quot;N æ•°ä¹‹å’Œç³»åˆ—&quot;&gt;&lt;/a&gt;N æ•°ä¹‹å’Œç³»åˆ—&lt;/h1&gt;&lt;h2 id=&quot;ä¸¤æ•°ä¹‹å’Œ&quot;&gt;&lt;a href=&quot;#ä¸¤æ•°ä¹‹å’Œ&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>leetcode-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºç³»åˆ—(121,122,123,188)</title>
    <link href="http://yoursite.com/2021/03/14/leetcode-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%E7%B3%BB%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/14/leetcode-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%E7%B3%BB%E5%88%97/</id>
    <published>2021-03-14T18:32:46.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-I"><a href="#121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-I" class="headerlink" title="121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº I"></a>121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº I</h1><p>ç»™å®šä¸€åªè‚¡ç¥¨ï¼Œä½†æ˜¯åªèƒ½ä¹°å–ä¸€æ¬¡ã€‚</p><h2 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h2><p>è¿›è¡Œä¸¤å±‚å¾ªç¯ï¼Œç¬¬ä¸€å±‚å¾ªç¯æ˜¯ä¹°å…¥çš„æ—¥å­ï¼Œç¬¬äºŒå±‚å¾ªç¯æ˜¯å–å‡ºçš„æ—¥å­ï¼Œéå†å·¦å³çš„åˆ©æ¶¦ï¼Œæ±‚å‡ºæœ€å¤§å€¼ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> length = prices.length;</span><br><span class="line">  <span class="keyword">let</span> profit = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">      profit = <span class="built_in">Math</span>.max(profit, prices[j] - prices[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> profit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p>è¿›è¡Œä¸€æ¬¡éå†ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­ä¿®æ”¹å˜é‡ï¼Œä¸€ä¸ªæ˜¯å½“å‰æœ€ä½çš„ä»·æ ¼ï¼Œä¸€ä¸ªæ˜¯å½“å‰çš„åˆ©æ¶¦ã€‚<br>å¦‚æœå½“å‰ä»·æ ¼ä½äºæœ€ä½ä»·æ ¼ï¼Œåˆ™æ›´æ–°æœ€ä½ä»·æ ¼ã€‚ç”¨å½“å‰çš„ä»·æ ¼å‡å»æœ€ä½ä»·æ ¼ï¼Œå³æ˜¯è¿™ä¸€å¤©èƒ½å¤Ÿè·å¾—çš„æœ€å¤§åˆ©æ¶¦ã€‚</p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> length = prices.length;</span><br><span class="line">  <span class="keyword">let</span> minPrice = prices[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">let</span> profit = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (prices[i] &lt; minPrice) &#123;</span><br><span class="line">      minPrice = prices[i];</span><br><span class="line">    &#125;</span><br><span class="line">    profit = <span class="built_in">Math</span>.max(profit, prices[i] - minPrice);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> profit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II"><a href="#122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II" class="headerlink" title="122 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II"></a>122 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</h1><h2 id="æš´åŠ›æ³•-1"><a href="#æš´åŠ›æ³•-1" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h2><p>å¯¹äºæ¯ä¸ªè‚¡ç¥¨äº¤æ˜“æ—¥ï¼Œéƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§æ˜¯æŒ‰å…µä¸åŠ¨ï¼Œå³ä¸è¿›è¡Œä»»ä½•æ“ä½œã€‚è¿˜æœ‰ä¸€ç§æ˜¯æ ¹æ®å½“å‰è‚¡ç¥¨çš„æŒæœ‰æƒ…å†µï¼Œè¿›å…¥ä¹°è¿›æˆ–è€…å–å‡ºï¼Œæ¯”å¦‚å½“å‰æŒæœ‰è‚¡ç¥¨å°±å¯ä»¥å–å‡ºï¼Œå½“å‰æ²¡æœ‰è‚¡ç¥¨å°±è¿›è¡Œä¹°å…¥ã€‚</p><p>æ¯ä¸€ä¸ªäº¤æ—¥æ˜“éƒ½æœ‰ä¸åŒçš„é€‰æ‹©ï¼Œä¸€æ¬¡ä¸€æ¬¡çš„é€‰æ‹©å½¢æˆäº†ä¸€æ£µæ“ä½œæ ‘ï¼Œè¿™æ˜¯å…¸å‹çš„ dfs äº†ã€‚</p><h3 id="æš´åŠ›æ³•ä»£ç "><a href="#æš´åŠ›æ³•ä»£ç " class="headerlink" title="æš´åŠ›æ³•ä»£ç "></a>æš´åŠ›æ³•ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> length = prices.length;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// status:0ä»£è¡¨æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨ï¼Œå¯ä»¥ä¹°ã€‚1ä»£è¡¨æ‰‹ä¸Šæœ‰è‚¡ç¥¨ï¼Œå¯ä»¥å–ã€‚</span></span><br><span class="line">  <span class="keyword">const</span> dfs = <span class="function">(<span class="params">count: <span class="built_in">number</span>, profit: <span class="built_in">number</span>, status: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count === length) &#123;</span><br><span class="line">      max = <span class="built_in">Math</span>.max(max, profit);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰å…µä¸åŠ¨</span></span><br><span class="line">    dfs(count + <span class="number">1</span>, profit, status);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›è¡Œæ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (status === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">// è¿›è¡Œä¹°å…¥ï¼Œåˆ©æ¶¦è¦å‡æ‰å½“å‰ä»·æ ¼</span></span><br><span class="line">      dfs(count + <span class="number">1</span>, profit - prices[count], <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="comment">// è¿›è¡Œå–å‡ºï¼Œåˆ©æ¶¦è¦åŠ ä¸Šå½“å‰ä»·æ ¼</span></span><br><span class="line">      dfs(count + <span class="number">1</span>, profit + prices[count], <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><p>è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨è´ªå¿ƒç®—æ³•ï¼Œå³æ ¹æ®å½“æ—¥çš„ä»·æ ¼æ¥å†³å®šä¸Šä¸ªäº¤æ˜“æ—¥æ˜¯å¦è¿›è¡Œä¹°å…¥ï¼Œåªè¦ä»Šå¤©çš„ä»·æ ¼æ¯”æ˜¨å¤©é«˜ï¼Œå°±æ˜¨å¤©ä¹°æ—¥ï¼Œä»Šå¤©å–å‡ºã€‚å½“ç„¶ç°å®æƒ…å†µä¸‹ï¼Œæ˜¯ä¸å¯èƒ½ä¹°å…¥æ˜¨å¤©çš„è‚¡ç¥¨çš„ã€‚</p><h3 id="è´ªå¿ƒæ³•ä»£ç "><a href="#è´ªå¿ƒæ³•ä»£ç " class="headerlink" title="è´ªå¿ƒæ³•ä»£ç "></a>è´ªå¿ƒæ³•ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!prices || prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> profit = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (prices[i] &gt; prices[i - <span class="number">1</span>]) &#123;</span><br><span class="line">      profit += prices[i] - prices[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> profit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p>å¦‚æœä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜ä¸€ä¸ªäºŒç»´çš„çŠ¶æ€ï¼Œdp[i][j]ã€‚<br>dp[i][0] ä»£è¡¨ç¬¬ i å¤©ï¼Œæ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„æ”¶ç›Šã€‚dp[i][1]ä»£è¡¨ç¬¬ i å¤©æ‰‹ä¸Šæœ‰è‚¡ç¥¨çš„æ”¶ç›Šã€‚<br>é‚£ä¹ˆæ¨å¯¼ä¸€ä¸‹çŠ¶æ€æ–¹ç¨‹å°±æ˜¯</p><ul><li>dp[i][0] = Math.max(dp[i-1][0],dp[i-1][1]+prices[i])<ul><li>ä¹Ÿå°±æ˜¯ç¬¬ i å¤©æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶ï¼Œå¯ä»¥æ˜¯ i-1 å¤©æœ¬æ¥å°±æ²¡æœ‰è‚¡ç¥¨ï¼Œç„¶åç¬¬ i å¤©ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œæˆ–è€…æ˜¯ i-1 å¤©æŒæœ‰è‚¡ç¥¨ï¼Œç„¶åå°†å…¶å–å‡ºã€‚å–ä¸¤è€…çš„æœ€å¤§å€¼ã€‚</li></ul></li><li>dp[i][1] = Math.max(dp[i-1][1],dp[i-1][0]-prices[i])<ul><li>ä¹Ÿå°±æ˜¯ç¬¬ i å¤©æ‰‹ä¸Šæœ‰è‚¡ç¥¨æ—¶ï¼Œå¯ä»¥æ˜¯ i-1 å¤©æœ¬æ¥å°±æœ‰è‚¡ç¥¨ï¼Œç„¶åç¬¬ i å¤©æŒ‰å…µä¸åŠ¨ï¼Œæˆ–è€…ç¬¬ i-1 å¤©æ‰‹ä¸Šæ²¡æœ‰éª¨ç‰‡ï¼Œç„¶åä»Šå¤©ä¹°è¿›ã€‚å–ä¸¤è€…çš„æœ€å¤§å€¼ã€‚</li></ul></li></ul><p>æœ€åæˆ‘ä»¬æœŸæœ›çš„ç»“æœå°±æ˜¯ dp[n][0]ã€‚ä¹Ÿå°±æ˜¯æœ€åä¸€å¤©æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„é‡‘é¢ã€‚<br>å¯ä»¥çœ‹å‡ºç¬¬ n å¤©çš„æœ€å¤§æ”¶ç›Šï¼Œæ˜¯æ ¹æ®ä¹‹å‰çš„æ¯ä¸€å¤©çš„æ”¶ç›Šæƒ…å†µï¼Œä¸€ç‚¹ä¸€ç‚¹æ¨å¯¼å‡ºæ¥çš„ã€‚éå¸¸ç»å…¸çš„åŠ¨æ€è§„åˆ’ã€‚</p><h3 id="åŠ¨æ€è§„åˆ’ä»£ç "><a href="#åŠ¨æ€è§„åˆ’ä»£ç " class="headerlink" title="åŠ¨æ€è§„åˆ’ä»£ç "></a>åŠ¨æ€è§„åˆ’ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!prices || prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dp = prices.map(<span class="function"><span class="params">()</span> =&gt;</span> [<span class="number">0</span>, <span class="number">0</span>]);</span><br><span class="line">  dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">    dp[i][<span class="number">1</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> dp[prices.length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="123-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-III"><a href="#123-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-III" class="headerlink" title="123 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III"></a>123 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</h1><p>ä¸åŒäºä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IIã€‚è¿™æ¬¡åªèƒ½äº¤æ˜“ä¸¤æ¬¡äº†ã€‚è¿™æ¬¡æˆ‘ä»¬åªé€‰æ‹©åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬æŠŠä¹°è¿›è‚¡ç¥¨ä½œä¸ºäº¤æ˜“ä¸€æ¬¡è‚¡ç¥¨çš„æ ‡å¿—ã€‚</p><h2 id="åŠ¨æ€è§„åˆ’-1"><a href="#åŠ¨æ€è§„åˆ’-1" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p>é¦–å…ˆéœ€è¦å¢åŠ ä¸€ä¸ªçŠ¶æ€ï¼Œæ¥è®°å½•å½“å‰å·²ç»äº¤æ˜“äº†å‡ æ¬¡ã€‚dp[i][j][k] ,j ä»£è¡¨äº†æ˜¯ç¬¬å‡ æ¬¡ä¹°è¿›è‚¡ç¥¨äº†ã€‚å¯ä»¥çš„å–å€¼ä¸º 0ï¼Œ1ï¼Œ2ã€‚k è¿˜æ˜¯ä»£è¡¨å½“å‰æ‰‹ä¸Šæ˜¯å¦æŒæœ‰è‚¡ç¥¨ï¼Œ0 è¡¨ç¤ºä¸æŒæœ‰ï¼Œ1 è¡¨ç¤ºæŒæœ‰ã€‚</p><h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> length = prices.length;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ä¸‰ç»´dpæ•°ç»„</span></span><br><span class="line">  <span class="keyword">const</span> dp = prices.map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Array</span>(<span class="number">2</span>));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= <span class="number">2</span>; j++) &#123;</span><br><span class="line">      dp[i][j] = [];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// ç¬¬iå¤©ï¼Œæ²¡æœ‰äº¤æ˜“è‚¡ç¥¨ï¼Œæ‰‹ä¸Šä¹Ÿæ²¡æœ‰è‚¡ç¥¨</span></span><br><span class="line">    dp[i][<span class="number">0</span>][<span class="number">1</span>] = -<span class="literal">Infinity</span>; <span class="comment">// ç¬¬iå¤©ï¼Œæ²¡æœ‰äº¤æ˜“è‚¡ç¥¨ï¼Œæ‰‹ä¸Šæœ‰ä¸€è‚¡ï¼Œæ˜¯ä¸å¯èƒ½çš„ã€‚</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= <span class="number">2</span>; j++) &#123;</span><br><span class="line">    dp[<span class="number">0</span>][j][<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// ç¬¬1å¤©ï¼Œä¹°å…¥äº†jæ¬¡ï¼Œæ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨</span></span><br><span class="line">    dp[<span class="number">0</span>][j][<span class="number">1</span>] = -pirces[<span class="number">0</span>]; <span class="comment">// ç¬¬ä¸€å¤©ï¼Œä¹°å…¥äº†jæ¬¡ï¼Œæ‰‹ä¸Šæœ‰è‚¡ç¥¨</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= <span class="number">2</span>; j++) &#123;</span><br><span class="line">      dp[i][j][<span class="number">0</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][j][<span class="number">0</span>], dp[i - <span class="number">1</span>][j][<span class="number">1</span>] + prices[i]);</span><br><span class="line">      dp[i][j][<span class="number">1</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][j][<span class="number">1</span>], dp[i - <span class="number">1</span>][j - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ±‚æœ€åä¸€å¤©ï¼Œæ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class="line">  <span class="keyword">let</span> maxProfit = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= <span class="number">2</span>; j++) &#123;</span><br><span class="line">    maxProfit = <span class="built_in">Math</span>.max(maxProfit, dp[length - <span class="number">1</span>][j][<span class="number">0</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> maxProfit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="188-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-IV"><a href="#188-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-IV" class="headerlink" title="188 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV"></a>188 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV</h1><p>è¿™ä¸€æ¬¡åˆå‡çº§äº†ï¼Œå¯ä»¥ä¹°å– k æ¬¡</p><h2 id="åŠ¨æ€è§„åˆ’-2"><a href="#åŠ¨æ€è§„åˆ’-2" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p>çŠ¶æ€æ–¹ç¨‹å¯ä»¥å‚è€ƒä¹°å–ä¸¤æ¬¡ã€‚å…¶å®å·²ç»å°†ç®—æ³•èŒƒå‹åŒ–ï¼Œæ”¯æŒå°† 2 æ¬¡å˜æˆ k æ¬¡å°±å¯ä»¥äº†ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ k&gt;=len/2 çš„æ—¶å€™ï¼Œé—®é¢˜ç›¸å½“äºå˜æˆäº†å¯ä»¥äº¤æ˜“æ— æ•°æ¬¡ï¼Œä¹Ÿå°±æ˜¯ 122ï¼Œè¿™æ—¶å¯ä»¥ç›´æ¥é‡‡ç”¨ 122 çš„è´ªå¿ƒç®—æ³•ã€‚</p><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greedy</span>(<span class="params">prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!prices || prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> profit = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (prices[i] &gt; prices[i - <span class="number">1</span>]) &#123;</span><br><span class="line">      profit += prices[i] - prices[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> profit;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxProfit</span>(<span class="params">k: <span class="built_in">number</span>, prices: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (prices.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (k &gt;= prices.length / <span class="number">2</span>) <span class="keyword">return</span> greedy(prices);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = prices.length;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ä¸‰ç»´dpæ•°ç»„</span></span><br><span class="line">  <span class="keyword">const</span> dp = prices.map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Array</span>(k + <span class="number">1</span>));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= k; j++) &#123;</span><br><span class="line">      dp[i][j] = [];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// ç¬¬iå¤©ï¼Œæ²¡æœ‰äº¤æ˜“è‚¡ç¥¨ï¼Œæ‰‹ä¸Šä¹Ÿæ²¡æœ‰è‚¡ç¥¨</span></span><br><span class="line">    dp[i][<span class="number">0</span>][<span class="number">1</span>] = -<span class="literal">Infinity</span>; <span class="comment">// ç¬¬iå¤©ï¼Œæ²¡æœ‰äº¤æ˜“è‚¡ç¥¨ï¼Œæ‰‹ä¸Šæœ‰ä¸€è‚¡ï¼Œæ˜¯ä¸å¯èƒ½çš„ã€‚</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= k; j++) &#123;</span><br><span class="line">    dp[<span class="number">0</span>][j][<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// ç¬¬1å¤©ï¼Œä¹°å…¥äº†jæ¬¡ï¼Œæ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨</span></span><br><span class="line">    dp[<span class="number">0</span>][j][<span class="number">1</span>] = -prices[<span class="number">0</span>]; <span class="comment">// ç¬¬ä¸€å¤©ï¼Œä¹°å…¥äº†jæ¬¡ï¼Œæ‰‹ä¸Šæœ‰è‚¡ç¥¨</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= k; j++) &#123;</span><br><span class="line">      dp[i][j][<span class="number">0</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][j][<span class="number">0</span>], dp[i - <span class="number">1</span>][j][<span class="number">1</span>] + prices[i]);</span><br><span class="line">      dp[i][j][<span class="number">1</span>] = <span class="built_in">Math</span>.max(dp[i - <span class="number">1</span>][j][<span class="number">1</span>], dp[i - <span class="number">1</span>][j - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ±‚æœ€åä¸€å¤©ï¼Œæ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class="line">  <span class="keyword">let</span> maxProfit = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= k; j++) &#123;</span><br><span class="line">    maxProfit = <span class="built_in">Math</span>.max(maxProfit, dp[length - <span class="number">1</span>][j][<span class="number">0</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> maxProfit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-I&quot;&gt;&lt;a href=&quot;#121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-I&quot; class=&quot;headerlink&quot; title=&quot;121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº I&quot;&gt;&lt;/a&gt;121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº I&lt;/h1&gt;&lt;p&gt;ç»™å®šä¸€åªè‚¡ç¥¨ï¼Œä½†æ˜¯åªèƒ½ä¹°å–ä¸€æ¬¡ã€‚&lt;/</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>leetcode-142-ç¯å½¢é“¾è¡¨</title>
    <link href="http://yoursite.com/2021/03/14/leetcode-142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2021/03/14/leetcode-142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/</id>
    <published>2021-03-14T11:05:49.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="142-ç¯å½¢é“¾è¡¨"><a href="#142-ç¯å½¢é“¾è¡¨" class="headerlink" title="142 ç¯å½¢é“¾è¡¨"></a>142 ç¯å½¢é“¾è¡¨</h1><h2 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³• 1"></a>è§£æ³• 1</h2><p>éå†é“¾è¡¨ï¼ŒåŒæ—¶ä½¿ç”¨ä¸€ä¸ª set å­˜å‚¨å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰æ­£åœ¨è®¿é—®çš„èŠ‚ç‚¹å­˜åœ¨äº set ä¸­ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†æ¢çš„å…¥å£ã€‚è¿”å›è¯¥èŠ‚ç‚¹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">detectCycle</span>(<span class="params">head: ListNode | <span class="literal">null</span></span>): <span class="title">ListNode</span> | <span class="title">null</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">set</span> = <span class="keyword">new</span> Set&lt;ListNode&gt;();</span><br><span class="line">  <span class="keyword">let</span> node = head;</span><br><span class="line">  <span class="keyword">while</span> (node) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">set</span>.has(node)) &#123;</span><br><span class="line">      <span class="keyword">return</span> node;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">set</span>.add(node);</span><br><span class="line">      node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è§£æ³•-2"><a href="#è§£æ³•-2" class="headerlink" title="è§£æ³• 2"></a>è§£æ³• 2</h2><p>å‡è®¾èµ·ç‚¹åˆ°ç¯çš„å…¥å£ç‚¹çš„è·ç¦»æ˜¯ aï¼Œæ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆåœ¨ç¯å†…ç›¸é‡ï¼Œæ…¢æŒ‡é’ˆåœ¨ç¯å†…èµ°è¿‡çš„è·ç¦»æ˜¯ bï¼Œç¯å†…å‰©ä¸‹çš„è·ç¦»æ˜¯ cï¼Œåˆ™ç¯çš„å‘¨é•¿æ˜¯ b+cã€‚<br>å¿«æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»æ˜¯æ…¢æŒ‡é’ˆçš„ 2 å€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">slow * 2 &#x3D; fast</span><br><span class="line">slow &#x3D; a + b</span><br><span class="line">fast &#x3D; a + b + (b + c)</span><br><span class="line">2 * (a + b) &#x3D; a + b + (b + c);</span><br><span class="line">a &#x3D; c</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ¨å¯¼å‡ºç¯å†…å‰©ä½™è·¯ç¨‹ cï¼Œå’Œ a è·ç¦»ç›¸ç­‰ã€‚å› æ­¤å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆä» head å‡ºå‘ï¼Œæ…¢æŒ‡é’ˆç»§ç»­èµ°ï¼Œç›¸é‡ç‚¹å³ä¸ºå…¥å£ç‚¹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">detectCycle</span>(<span class="params">head: ListNode | <span class="literal">null</span></span>): <span class="title">ListNode</span> | <span class="title">null</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> slow = head;</span><br><span class="line">  <span class="keyword">let</span> fast = head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (fast &amp;&amp; fast.next) &#123;</span><br><span class="line">    slow = slow.next;</span><br><span class="line">    fast = fast.next.next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (slow === fast) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ²¡æœ‰ç¯</span></span><br><span class="line">  <span class="keyword">if</span> (!fast || !fast.next) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ‰ç¯</span></span><br><span class="line">  <span class="keyword">let</span> p = head;</span><br><span class="line">  <span class="keyword">while</span> (p !== slow) &#123;</span><br><span class="line">    p = p.next;</span><br><span class="line">    slow = slow.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;142-ç¯å½¢é“¾è¡¨&quot;&gt;&lt;a href=&quot;#142-ç¯å½¢é“¾è¡¨&quot; class=&quot;headerlink&quot; title=&quot;142 ç¯å½¢é“¾è¡¨&quot;&gt;&lt;/a&gt;142 ç¯å½¢é“¾è¡¨&lt;/h1&gt;&lt;h2 id=&quot;è§£æ³•-1&quot;&gt;&lt;a href=&quot;#è§£æ³•-1&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>å¹¶æŸ¥é›†</title>
    <link href="http://yoursite.com/2021/03/13/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <id>http://yoursite.com/2021/03/13/%E5%B9%B6%E6%9F%A5%E9%9B%86/</id>
    <published>2021-03-13T22:30:17.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h1><p>å¹¶æŸ¥é›†ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª Class æ¥å®ç°ã€‚å¯ä»¥æŠŠä¸€ç»„æ•°æ®å…³è”èµ·æ¥ï¼Œç„¶åç»Ÿè®¡æ•°é‡ã€‚<br>å¯ä»¥ç”¨æ¥è§£å†³å²›å±¿æ•°é‡çš„é—®é¢˜ã€‚</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><ul><li>ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜æ¯ä¸€é¡¹çš„çˆ¶èŠ‚ç‚¹</li><li>ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜æ¯ä¸€é¡¹çš„å±‚çº§</li><li>ä¸€ä¸ª findRoot æ–¹æ³•ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€é¡¹çš„æ ¹</li><li>ä¸€ä¸ª union æ–¹æ³•ï¼Œå¦‚æœä¸¤é¡¹çš„æ ¹ä¸åŒï¼Œå¯ä»¥åˆå¹¶ä¸¤é¡¹çš„æ ¹ï¼Œä½¿ä»–ä»¬ä¿©çš„æ ¹ç›¸åŒ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> UnionFind &#123;</span><br><span class="line">  parent: <span class="built_in">number</span>[] = [];</span><br><span class="line">  rank: <span class="built_in">number</span>[] = [];</span><br><span class="line">  count: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">nums: <span class="built_in">number</span>[][]</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = nums.length;</span><br><span class="line">    <span class="keyword">const</span> n = nums[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">this</span>.rank[i * n + j] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[i][j]) &#123;</span><br><span class="line">          <span class="keyword">this</span>.parent[i * n + j] = i * n + j;</span><br><span class="line">          <span class="keyword">this</span>.count++;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  find(num: <span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.parent[num] !== num) &#123;</span><br><span class="line">      <span class="keyword">this</span>.parent[num] = <span class="keyword">this</span>.find(<span class="keyword">this</span>.parent[num]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.parent[num];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  union(x: <span class="built_in">number</span>, y: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> rootX = <span class="keyword">this</span>.find(x);</span><br><span class="line">    <span class="keyword">const</span> rootY = <span class="keyword">this</span>.find(y);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rootX !== rootY) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.rank[rootX] &lt; <span class="keyword">this</span>.rank[rootY]) &#123;</span><br><span class="line">        <span class="keyword">this</span>.parent[rootX] = rootY;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.rank[rootX] &gt; <span class="keyword">this</span>.rank[rootY]) &#123;</span><br><span class="line">        <span class="keyword">this</span>.parent[rootY] = rootX;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// rank rootX ç­‰äº rank rootY</span></span><br><span class="line">        <span class="keyword">this</span>.parent[rootX] = rootY;</span><br><span class="line">        <span class="keyword">this</span>.rank[rootY]++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.count--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¹¶æŸ¥é›†&quot;&gt;&lt;a href=&quot;#å¹¶æŸ¥é›†&quot; class=&quot;headerlink&quot; title=&quot;å¹¶æŸ¥é›†&quot;&gt;&lt;/a&gt;å¹¶æŸ¥é›†&lt;/h1&gt;&lt;p&gt;å¹¶æŸ¥é›†ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª Class æ¥å®ç°ã€‚å¯ä»¥æŠŠä¸€ç»„æ•°æ®å…³è”èµ·æ¥ï¼Œç„¶åç»Ÿè®¡æ•°é‡ã€‚&lt;br&gt;å¯ä»¥ç”¨æ¥è§£å†³å²›å±¿æ•°é‡çš„é—®é¢˜ã€‚&lt;/p</summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§DFS</title>
    <link href="http://yoursite.com/2021/03/13/%E7%9C%81%E4%BB%BD%E6%95%B0%E9%87%8F%E5%92%8C%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F-%E4%B8%A4%E7%A7%8DDFS/"/>
    <id>http://yoursite.com/2021/03/13/%E7%9C%81%E4%BB%BD%E6%95%B0%E9%87%8F%E5%92%8C%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F-%E4%B8%A4%E7%A7%8DDFS/</id>
    <published>2021-03-13T22:26:19.000Z</published>
    <updated>2021-10-24T03:40:44.659Z</updated>
    
    <content type="html"><![CDATA[<h1 id="çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§-DFS"><a href="#çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§-DFS" class="headerlink" title="çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§ DFS"></a>çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§ DFS</h1><h2 id="çœä»½æ•°é‡"><a href="#çœä»½æ•°é‡" class="headerlink" title="çœä»½æ•°é‡"></a>çœä»½æ•°é‡</h2><blockquote><p>è®¡ç®—çœä»½æ•°é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯è®¡ç®—æœ‹å‹åœˆçš„æ•°é‡ã€‚ä» 1 åˆ° nï¼Œä¸€å…±æœ‰ n ä¸ªåŸå¸‚ï¼Œä»–ä»¬çš„è¿æ¥å…³ç³»å¯ä»¥ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„æ¥è¡¨ç¤ºã€‚</p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isConnected = [</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// isConnected[i][j]=1 ä»£è¡¨äº†iå’Œjè¿™ä¸¤ä¸ªè¿æ¥ï¼ŒisConnected[i][j]=0åˆ™ä»£è¡¨ä¸ç›´æ¥è¿æ¥ã€‚</span></span><br></pre></td></tr></table></figure><p>è¿æ¥å…·æœ‰ä¼ é€’æ€§ã€‚i-&gt;j è¿æ¥ï¼Œj-&gt;k è¿æ¥ï¼Œé‚£ä¹ˆ i-&gt;kã€‚<br>æ‰€æœ‰ç›¸è¿æ¥çš„åŸå¸‚ï¼ˆæœ‹å‹ï¼‰æ„æˆäº†ä¸€ä¸ªçœä»½ï¼ˆæœ‹å‹åœˆï¼‰ã€‚æ±‚æ‰€æœ‰çœä»½çš„æ•°é‡ã€‚</p><p>è¿™é‡Œéœ€è¦ç”¨åˆ° DFS å»æœç´¢ï¼Œå¹¶ä¸”éœ€è¦ä¸€ä¸ª visited æ¥è®°å½•å“ªäº›åŸå¸‚å·²ç»è¢«è®¿é—®è¿‡äº†ã€‚<br>éå†è¿™ n ä¸ªåŸå¸‚ï¼Œå¦‚æœæ²¡æœ‰è¢« visitedï¼Œçœä»½å°±åŠ  1ã€‚<br>æ¯”å¦‚æœç´¢åˆ°äº†åŸå¸‚ iï¼Œé‚£ä¹ˆå°±é¡ºç€æŠŠ i è¿™ä¸ªé“¾æ¡éƒ½å»è®¿é—®ä¸€éï¼Œå¹¶ä¸”è®°å½•åœ¨ visited é‡Œé¢ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  isConnected: <span class="built_in">number</span>[][],</span></span></span><br><span class="line"><span class="function"><span class="params">  visited: <span class="built_in">boolean</span>[],</span></span></span><br><span class="line"><span class="function"><span class="params">  i: <span class="built_in">number</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  m: <span class="built_in">number</span></span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (visited[i]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  visited[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isConnected[i][j]) &#123;</span><br><span class="line">      dfs(isConnected, visited, j, m);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findCircleNum</span>(<span class="params">isConnected: <span class="built_in">number</span>[][]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isConnected.length || !isConnected[<span class="number">0</span>].length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> m = isConnected.length;</span><br><span class="line">  <span class="keyword">const</span> visited = <span class="built_in">Array</span>(m).fill(<span class="literal">false</span>);</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">      count++;</span><br><span class="line">      dfs(isConnected, visited, i, m);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å²›å±¿æ•°é‡"><a href="#å²›å±¿æ•°é‡" class="headerlink" title="å²›å±¿æ•°é‡"></a>å²›å±¿æ•°é‡</h2><p>ä½¿ç”¨äºŒç»´çŸ©é˜µä»£è¡¨ä¸€ç¯‡åŒºåŸŸï¼Œå¦‚æœ grid[i][j]ä¸º 1 ä»£è¡¨é™†åœ°ï¼Œå¦‚æœ grid[i][j]ä¸º 0 ä»£è¡¨æµ·æ´‹ï¼Œæ‰€æœ‰è¿æ¥çš„ 1 æ„æˆä¸€ä¸ªå²›å±¿ï¼Œæ±‚å²›å±¿çš„æ•°é‡ã€‚</p><p>ä¹Ÿæ˜¯ dfsï¼Œéå†æ•´ä¸ªäºŒç»´çŸ©é˜µï¼Œå¦‚æœå½“å‰æ˜¯é™†åœ°ï¼Œå°± dfs æœç´¢è¿™ä¸ªç‚¹çš„å‘¨å›´åŒºåŸŸï¼Œå¹¶ä¸”æŠŠå‘¨å›´åŒºåŸŸæ ‡è®°ä¸º 0ã€‚éœ€è¦å‘å››ä¸ªæ–¹å‘æ¥è¿›è¡Œ dfsã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bfs</span>(<span class="params">grid: <span class="built_in">string</span>[][], i: <span class="built_in">number</span>, j: <span class="built_in">number</span>, m: <span class="built_in">number</span>, n: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> queue = [[i, j]];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (queue.length) &#123;</span><br><span class="line">    <span class="keyword">const</span> [a, b] = queue.shift();</span><br><span class="line">    <span class="keyword">if</span> (grid[a][b] === <span class="string">"1"</span>) &#123;</span><br><span class="line">      grid[a][b] = <span class="string">"0"</span>;</span><br><span class="line">      <span class="keyword">if</span> (a - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[a - <span class="number">1</span>][b] === <span class="string">"1"</span>) queue.push([a - <span class="number">1</span>, b]);</span><br><span class="line">      <span class="keyword">if</span> (a + <span class="number">1</span> &lt; m &amp;&amp; grid[a + <span class="number">1</span>][b] === <span class="string">"1"</span>) queue.push([a + <span class="number">1</span>, b]);</span><br><span class="line">      <span class="keyword">if</span> (b - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[a][b - <span class="number">1</span>] === <span class="string">"1"</span>) queue.push([a, b - <span class="number">1</span>]);</span><br><span class="line">      <span class="keyword">if</span> (b + <span class="number">1</span> &lt; n &amp;&amp; grid[a][b + <span class="number">1</span>] === <span class="string">"1"</span>) queue.push([a, b + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">grid: <span class="built_in">string</span>[][], i: <span class="built_in">number</span>, j: <span class="built_in">number</span>, m: <span class="built_in">number</span>, n: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= m || j &lt; <span class="number">0</span> || j &gt;= n || grid[i][j] == <span class="string">"0"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  grid[i][j] = <span class="string">"0"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dirs = [</span><br><span class="line">    [<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">    [<span class="number">-1</span>, <span class="number">0</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">-1</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [dx, dy] of dirs) &#123;</span><br><span class="line">    dfs(grid, dx + i, dy + j, m, n);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numIslands</span>(<span class="params">grid: <span class="built_in">string</span>[][]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!grid.length || !grid[<span class="number">0</span>].length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> copy = grid.map(<span class="function">(<span class="params">item</span>) =&gt;</span> [...item]);</span><br><span class="line">  <span class="keyword">const</span> m = copy.length;</span><br><span class="line">  <span class="keyword">const</span> n = copy[<span class="number">0</span>].length;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (copy[i][j] == <span class="string">"1"</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        dfs(copy, i, j, m, n);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h2><ul><li>çœä»½æ˜¯æ²¿ç€ä¸€ä¸ªé“¾æ¥é“¾æ¡è¿›è¡Œ dfsï¼Œå¹¶æ ‡è®° visited</li><li>å²›å±¿æ˜¯æ²¿ç€ä¸€ä¸ªç‚¹ï¼Œå‘å››ä¸ªæ–¹å‘è¿›è¡Œ dfsï¼Œå¹¶å°† grid ç½®ä¸º 0ã€‚<ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨ bfs</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§-DFS&quot;&gt;&lt;a href=&quot;#çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§-DFS&quot; class=&quot;headerlink&quot; title=&quot;çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§ DFS&quot;&gt;&lt;/a&gt;çœä»½æ•°é‡å’Œå²›å±¿æ•°é‡-ä¸¤ç§ DFS&lt;/h1&gt;&lt;h2 id=&quot;çœä»½æ•°é‡&quot;&gt;&lt;a </summary>
      
    
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>leetcode-101-105-23-ä½¿ç”¨é€’å½’å§</title>
    <link href="http://yoursite.com/2021/01/14/leetcode-101-105-23-%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92%E5%90%A7/"/>
    <id>http://yoursite.com/2021/01/14/leetcode-101-105-23-%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92%E5%90%A7/</id>
    <published>2021-01-14T23:23:28.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="101-105-23-ä½¿ç”¨é€’å½’å§"><a href="#101-105-23-ä½¿ç”¨é€’å½’å§" class="headerlink" title="101-105-23 ä½¿ç”¨é€’å½’å§"></a>101-105-23 ä½¿ç”¨é€’å½’å§</h1><ul><li>101 å¯¹ç§°äºŒå‰æ ‘</li><li>105 æ ¹æ®ä¸­åºéå†å’Œå…ˆåºéå†æ„é€ äºŒå‰æ ‘</li><li>23 åˆå¹¶ k ä¸ªå‡åºé“¾è¡¨</li></ul><p>è¿™å‡ ä¸ªé—®é¢˜è™½ç„¶æƒ…æ™¯å„ä¸ä¸€æ ·ï¼Œä½†æ˜¯éƒ½å¯ä»¥ä½¿ç”¨é€’å½’çš„ç¼–ç¨‹æŠ€å·§æ¥è§£å†³é—®é¢˜ã€‚</p><h2 id="101-å¯¹ç§°äºŒå‰æ ‘"><a href="#101-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="101 å¯¹ç§°äºŒå‰æ ‘"></a>101 å¯¹ç§°äºŒå‰æ ‘</h2><h3 id="ä½¿ç”¨é€’å½’"><a href="#ä½¿ç”¨é€’å½’" class="headerlink" title="ä½¿ç”¨é€’å½’"></a>ä½¿ç”¨é€’å½’</h3><ol><li>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ p å’Œ qï¼Œåˆå§‹åŒ–éƒ½æŒ‡å‘ root èŠ‚ç‚¹ã€‚</li><li>åˆ¤æ–­ p.val===q.valï¼Œå¦‚æœç›¸ç­‰é‚£ä¹ˆ p å’Œ q åŒæ—¶ç§»åŠ¨ï¼Œä½†æ˜¯ç§»åŠ¨çš„æ–¹å‘æ˜¯å¯¹ç§°çš„ï¼Œä¹Ÿå°±æ˜¯ p å‘å·¦ç§»åŠ¨ï¼Œé‚£ä¹ˆ q å°±è¦å‘å³ç§»åŠ¨ã€‚</li><li>ç”±äºè¦æ¯”è¾ƒå’Œæ“ä½œ p å’Œ q ä¸¤ä¸ªæŒ‡é’ˆï¼Œå› æ­¤æˆ‘ä»¬çš„å‡½æ•°ä¹Ÿéœ€è¦ä¸¤ä¸ªå‚æ•°</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">p: TreeNode | <span class="literal">null</span>, q: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!p &amp;&amp; !q) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (!p || !q) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (p.val !== q.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> inner = helper(p.left, q.right); <span class="comment">// éªŒè¯å†…å¯¹ç§°</span></span><br><span class="line">  <span class="keyword">const</span> outer = helper(p.right, q.left); <span class="comment">// éªŒè¯å¤–å¯¹ç§°</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> inner &amp;&amp; outer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isSymmetric</span>(<span class="params">root: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> helper(root, root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ä¸ºäº†éªŒè¯å¯¹ç§°æ€§ï¼Œå†…éƒ¨è°ƒç”¨äº†ä¸¤æ¬¡ helperï¼Œè¿™ä¹Ÿç®—æ˜¯æ ‘çš„é€’å½’å¸¸è§æ¨¡å¼ï¼Œé’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œåˆ†å¼€é€’å½’è°ƒç”¨ã€‚<br>å…¶ä¸­ helper è¿˜å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helper</span>(<span class="params">p: TreeNode | <span class="literal">null</span>, q: TreeNode | <span class="literal">null</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!p &amp;&amp; !q) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (!p || !q) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> p.val === q.val &amp;&amp; helper(p.left, q.right) &amp;&amp; helper(p.right, q.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;101-105-23-ä½¿ç”¨é€’å½’å§&quot;&gt;&lt;a href=&quot;#101-105-23-ä½¿ç”¨é€’å½’å§&quot; class=&quot;headerlink&quot; title=&quot;101-105-23 ä½¿ç”¨é€’å½’å§&quot;&gt;&lt;/a&gt;101-105-23 ä½¿ç”¨é€’å½’å§&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;101 å¯¹ç§°äºŒå‰æ ‘</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>leetcode-71-ç®€åŒ–è·¯å¾„</title>
    <link href="http://yoursite.com/2020/11/21/leetcode-71-%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84/"/>
    <id>http://yoursite.com/2020/11/21/leetcode-71-%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84/</id>
    <published>2020-11-21T22:57:38.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="71-è·¯å¾„æ€»å’Œ"><a href="#71-è·¯å¾„æ€»å’Œ" class="headerlink" title="71 è·¯å¾„æ€»å’Œ"></a>71 è·¯å¾„æ€»å’Œ</h1><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šâ€/home/â€œ<br>è¾“å‡ºï¼šâ€/homeâ€<br>è§£é‡Šï¼šæ³¨æ„ï¼Œæœ€åä¸€ä¸ªç›®å½•ååé¢æ²¡æœ‰æ–œæ ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šâ€/../â€œ<br>è¾“å‡ºï¼šâ€/â€œ<br>è§£é‡Šï¼šä»æ ¹ç›®å½•å‘ä¸Šä¸€çº§æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºæ ¹æ˜¯ä½ å¯ä»¥åˆ°è¾¾çš„æœ€é«˜çº§ã€‚<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šâ€/home//foo/â€œ<br>è¾“å‡ºï¼šâ€/home/fooâ€<br>è§£é‡Šï¼šåœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚<br>ç¤ºä¾‹ 4ï¼š</p><p>è¾“å…¥ï¼šâ€/a/./b/../../c/â€œ<br>è¾“å‡ºï¼šâ€/câ€<br>ç¤ºä¾‹ 5ï¼š</p><p>è¾“å…¥ï¼šâ€/a/../../b/../c//.//â€œ<br>è¾“å‡ºï¼šâ€/câ€</p><h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><h3 id="Round-One"><a href="#Round-One" class="headerlink" title="Round One"></a>Round One</h3><p>ä¸€å¼€å§‹æ²¡æœ‰å¤´ç»ªï¼Œå¤§æ¦‚æƒ³åˆ°äº†ä¾æ¬¡è¯»å–å­—ç¬¦ä¸²ï¼Œç„¶ååˆ©ç”¨æ ˆã€‚æ¯”å¦‚é‡åˆ°<code>..</code>å°± pop ä¸€ä¸ªå…ƒç´ ã€‚ä½†æ˜¯æ²¡æœ‰æ•´ç†å‡ºå®Œæ•´çš„æ€è·¯ã€‚</p><h3 id="Round-Two"><a href="#Round-Two" class="headerlink" title="Round Two"></a>Round Two</h3><p>ä¸å•°å—¦ï¼Œç›´æ¥çœ‹ leetcode ä¸Šçš„ discussion å§ã€‚æœç„¶äººå®¶çš„æ€è·¯æ¸…æ™°åˆç®€å•ã€‚</p><ul><li>ä½¿ç”¨â€™/â€˜å°†è·¯å¾„å­—ç¬¦ä¸²åˆ†å‰²ä¸ºè·¯å¾„æ•°ç»„ã€‚å‡†å¤‡ä¸€ä¸ªæ ˆ</li><li>éå†æ•°ç»„<ul><li>é‡åˆ° â€˜â€™ ç›´æ¥ continue(åˆ†å‰²äº†//)</li><li>é‡åˆ° â€˜.â€™ ç›´æ¥ continue(åˆ†å‰²äº†/./)</li><li>é‡åˆ°â€™..â€™ stack.pop() éœ€è¦è¿”å›ä¸Šä¸€çº§</li><li>é‡åˆ°æ™®é€šå­—ç¬¦ä¸² stack.push() è¿›å…¥ä¸€çº§</li></ul></li></ul><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simplifyPath</span>(<span class="params">path: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> arr = path.split(<span class="string">"/"</span>);</span><br><span class="line">  <span class="keyword">const</span> stack: <span class="built_in">string</span>[] = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> str of arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="string">""</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (str == <span class="string">"."</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (str == <span class="string">".."</span>) &#123;</span><br><span class="line">      stack.pop();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      stack.push(str);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`/<span class="subst">$&#123;stack.join(<span class="string">"/"</span>)&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;71-è·¯å¾„æ€»å’Œ&quot;&gt;&lt;a href=&quot;#71-è·¯å¾„æ€»å’Œ&quot; class=&quot;headerlink&quot; title=&quot;71 è·¯å¾„æ€»å’Œ&quot;&gt;&lt;/a&gt;71 è·¯å¾„æ€»å’Œ&lt;/h1&gt;&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç¤º</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨ç™»å½•æ€ä¿å­˜æ–¹æ¡ˆ</title>
    <link href="http://yoursite.com/2020/11/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%99%BB%E5%BD%95%E6%80%81%E4%BF%9D%E5%AD%98%E6%96%B9%E6%A1%88/"/>
    <id>http://yoursite.com/2020/11/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%99%BB%E5%BD%95%E6%80%81%E4%BF%9D%E5%AD%98%E6%96%B9%E6%A1%88/</id>
    <published>2020-11-18T09:19:44.000Z</published>
    <updated>2021-10-24T03:40:44.659Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯-Cookie"><a href="#ä»€ä¹ˆæ˜¯-Cookie" class="headerlink" title="ä»€ä¹ˆæ˜¯ Cookie"></a>ä»€ä¹ˆæ˜¯ Cookie</h3><ul><li>Cookie æ˜¯ç”±æœåŠ¡å™¨å‘å‡ºï¼Œå¹¶ç”±æµè§ˆå™¨ä¿å­˜çš„ä¸€å°å—æ•°æ®ï¼ˆå¤§æ¦‚ 4kb å¤§å°ï¼‰ï¼Œæµè§ˆå™¨å†ä¸‹ä¸€æ¬¡è¯·æ±‚åŒä¸€ä¸ªæœåŠ¡å™¨æ—¶ï¼Œä¼šæºå¸¦ cookieã€‚</li><li>é€šè¿‡ cookie å¯ä»¥ä½¿æµè§ˆå™¨çš„è®¿é—®å˜å¾—æœ‰çŠ¶æ€ï¼Œä½†æ˜¯ç”±äºæ•°æ®åªä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œå› æ­¤çŠ¶æ€æ˜¯å•å‘çš„ï¼ŒæœåŠ¡å™¨æ— æ³•éªŒè¯ã€‚</li></ul><h3 id="ä»€ä¹ˆæ˜¯-session"><a href="#ä»€ä¹ˆæ˜¯-session" class="headerlink" title="ä»€ä¹ˆæ˜¯ session"></a>ä»€ä¹ˆæ˜¯ session</h3><ul><li>Session æ˜¯å¦ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¼šè¯çŠ¶æ€çš„æœºåˆ¶ã€‚Session è¿™ç§æœºåˆ¶åŸºäº Cookie æ¥å®ç°</li><li>Session çš„çŠ¶æ€æ•°æ®å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œæµè§ˆå™¨é€šè¿‡ Cookie ä¿å­˜äº†ä¸€ä¸ª SessionId</li></ul><h4 id="Session-è®¤è¯æµç¨‹"><a href="#Session-è®¤è¯æµç¨‹" class="headerlink" title="Session è®¤è¯æµç¨‹"></a>Session è®¤è¯æµç¨‹</h4><ol><li>ç”¨æˆ·å‘æœåŠ¡å™¨æäº¤ç”¨æˆ·åå’Œå¯†ç </li><li>æœåŠ¡å™¨æ”¶åˆ°å¹¶éªŒè¯æˆåŠŸåï¼Œç”Ÿæˆä¸€ä¸ª sessionï¼ˆå…¶å®å°±æ˜¯ä¸€æ®µæ•°æ®ï¼Œæ¯”å¦‚åŒ…å« userId,userName ç­‰ï¼‰ä¿å­˜åœ¨å†…å­˜æˆ–è€…æ•°æ®åº“ä¸­</li><li>æœåŠ¡å™¨è¿”å›ç»™ç”¨æˆ·ä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ cookie</li><li>ç”¨æˆ·åé¢çš„æ¯ä¸€æ¬¡è®¿é—®ï¼Œéƒ½ä¼šé€šè¿‡ Cookie å°† session_id ä¼ å›æœåŠ¡å™¨</li><li>æœåŠ¡å™¨æ”¶åˆ° session_id æ‰¾åˆ°ä¹‹å‰ä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·èº«ä»½ï¼Œç»§è€Œæ‰§è¡Œæ“ä½œ</li><li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ•°æ®ï¼Œåˆ™å¯ä»¥é‡å®šå‘è‡³ç™»é™†é¡µã€‚</li></ol><h4 id="session-çš„é—®é¢˜"><a href="#session-çš„é—®é¢˜" class="headerlink" title="session çš„é—®é¢˜"></a>session çš„é—®é¢˜</h4><ul><li>å¦‚æœæ˜¯ä¸€ä¸ªæœåŠ¡å™¨é›†ç¾¤ï¼Œå°±éœ€è¦å…±äº« session æ•°æ®</li><li>å¦‚æœ AB ç½‘ç«™éœ€è¦å•ç‚¹ç™»å½•å…±äº«ç™»å½•æ€ï¼Œä¹Ÿéœ€è¦å…±äº« session æ•°æ®</li></ul><h3 id="ä»€ä¹ˆæ˜¯-JWT-json-web-token"><a href="#ä»€ä¹ˆæ˜¯-JWT-json-web-token" class="headerlink" title="ä»€ä¹ˆæ˜¯ JWT json web token"></a>ä»€ä¹ˆæ˜¯ JWT json web token</h3><p>JWT æ˜¯å¦ä¸€ç§ä¿å­˜çŠ¶æ€çš„æ–¹æ¡ˆï¼Œå’Œ Session çš„åŒºåˆ«æ˜¯ï¼ŒJWT åªéœ€è¦æµè§ˆå™¨ä¿å­˜å°±å¯ä»¥äº†ï¼ŒæœåŠ¡å™¨ä¸éœ€è¦åœ¨ç»´æŠ¤ session æ•°æ®ã€‚<br>JWT ä¼šåœ¨æµè§ˆå™¨ç«¯ä¿å­˜å“ªäº›æ•°æ®å‘¢ï¼Ÿå…¶å®è¿˜æ˜¯ç±»ä¼¼ userIdï¼ŒuserName ç­‰æ•°æ®ã€‚<br>ä½†æ˜¯ç›´æ¥ä¿å­˜æ˜æ–‡æ•°æ®è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œéœ€è¦ä¿å­˜åŠ å¯†ä¹‹åçš„æ•°æ®ã€‚</p><p>å°†æ•°æ®åŠ å¯†æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä¸­é—´ç”¨<code>.</code>åˆ†å‰²æˆ 3 éƒ¨åˆ†ã€‚åˆ†åˆ«ä¸º</p><ul><li><p>Header å¤´éƒ¨<br>ä¸€ä¸ªå¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ª JWT æ˜¯ä»€ä¹ˆæ ¼å¼å‘€ï¼Œç”¨äº†ä»€ä¹ˆåŠ å¯†ç®—æ³•ï¼ˆHS256ï¼‰å‘€ã€‚æ¯”å¦‚<br><code>{ &quot;alg&quot;: &quot;HS256&quot;, &quot;typ&quot;: &quot;JWT&quot; }</code><br>è¿™ä¸ªå¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•è½¬æ¢æˆå­—ç¬¦ä¸²</p></li><li><p>Payload è´Ÿè½½ï¼ˆæ•°æ®ï¼‰<br>ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ä¿å­˜å„ç§æ•°æ®ã€‚æœ€åä¹Ÿæ˜¯ä½¿ç”¨ Base64URL ç®—æ³•è½¬æ¢æˆå­—ç¬¦ä¸²</p></li><li><p>Signature ç­¾å<br>ç­¾åçš„ä½œç”¨ä¸»è¦æ˜¯éªŒè¯ Header å’Œ Payloadï¼Œé˜²æ­¢å®ƒä»¬è¢«ç¯¡æ”¹ï¼ŒæœåŠ¡å™¨ä¼šä¿å­˜ Signature çš„å¯†é’¥ï¼Œä½¿ç”¨å¯†é’¥å¯¹ Header å’Œ Payload è¿›è¡Œ SHA256 åŠ å¯†ã€‚<br>æµè§ˆå™¨å†æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨é€šè¿‡å¯†é’¥å¯¹ Header å’Œ Payload è§£å¯†ï¼Œç„¶åå’Œ Signature å¯¹æ¯”ï¼ŒéªŒè¯æ•°æ®æ˜¯å¦è¢«ç¯¡æ”¹ã€‚ä»¥åŠæ˜¯å¦æœ‰æ•ˆã€‚</p></li></ul><p>æœ€ç»ˆç»„æˆ <code>Header.Payload.Signature</code>è¿™æ ·çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç±»ä¼¼äº</p><p><img src="https://www.wangbase.com/blogimg/asset/201807/bg2018072303.jpg" alt="JWT token"></p><p>å®¢æˆ·ç«¯æ”¶åˆ° JWT åï¼Œå¯ä»¥ä¿å­˜åœ¨ cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åœ¨ localStorage é‡Œé¢ã€‚<br>åé¢çš„è¯·æ±‚æ—¶ï¼Œå¯ä»¥éšç€ cookie ä¸€èµ·å‘é€ï¼Œä½†æ˜¯ä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ”¾åœ¨ Http çš„ Header é‡Œé¢ã€‚<br>ä¾‹å¦‚ï¼š<code>Authorization: Bearer &lt;token&gt;</code></p><h4 id="JWT-çš„ä¼˜ç‚¹"><a href="#JWT-çš„ä¼˜ç‚¹" class="headerlink" title="JWT çš„ä¼˜ç‚¹"></a>JWT çš„ä¼˜ç‚¹</h4><ul><li>ç›¸æ¯”äº Sessionï¼ŒJWT ä¸éœ€è¦æœåŠ¡å™¨åœ¨ç»´æŠ¤ session æ•°æ®äº†ï¼Œå…¨éƒ¨çš„æ•°æ®éƒ½æ”¾åœ¨äº†æµè§ˆå™¨ä¸Šã€‚</li><li>ä½†æ˜¯éªŒè¯çš„æ—¶å€™éœ€è¦åšè§£å¯†çš„æ“ä½œï¼Œç‰ºç‰²äº†ä¸€å®šçš„ CPU æ€§èƒ½ã€‚</li></ul><h4 id="JWT-çš„ç¼ºç‚¹"><a href="#JWT-çš„ç¼ºç‚¹" class="headerlink" title="JWT çš„ç¼ºç‚¹"></a>JWT çš„ç¼ºç‚¹</h4><ul><li>ä¸€æ—¦ç­¾å‘äº†æŸä¸ª Tokenï¼ŒæœåŠ¡å™¨æ— æ³•ä½œåºŸå®ƒï¼Œå› ä¸ºæœåŠ¡å™¨åªä¼šéªŒè¯å®ƒï¼Œé™¤éè¿˜æœ‰é¢å¤–çš„é€»è¾‘æ¥å¤„ç†ã€‚</li><li>ç”±äºä¸å¥½ä½œåºŸå®ƒï¼Œé‚£ä¹ˆä¸€æ—¦ Token è¢«ç›—ç”¨ï¼Œå°±ä¼šä¸€ç›´æœ‰æ•ˆï¼Œå› æ­¤ token çš„æœ‰æ•ˆæœŸæœ€å¥½ä¸è¦å¤ªé•¿ã€‚</li><li>åº”è¯¥ä½¿ç”¨ Httpsï¼Œä¿è¯ token çš„å®‰å…¨æ€§</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯-Cookie&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-Cookie&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ Cookie&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ Cookie&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Cookie æ˜¯ç”±æœåŠ¡å™¨å‘å‡ºï¼Œå¹¶ç”±æµè§ˆå™¨ä¿å­˜çš„ä¸€å°å—æ•°æ®ï¼ˆå¤§æ¦‚ 4</summary>
      
    
    
    
    
    <category term="webå¼€å‘" scheme="http://yoursite.com/tags/web%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>leetcode 208 å®ç°Trieæ ‘</title>
    <link href="http://yoursite.com/2020/11/15/leetcode-208-%E5%AE%9E%E7%8E%B0Trie%E6%A0%91/"/>
    <id>http://yoursite.com/2020/11/15/leetcode-208-%E5%AE%9E%E7%8E%B0Trie%E6%A0%91/</id>
    <published>2020-11-15T11:35:35.000Z</published>
    <updated>2021-10-24T03:40:44.651Z</updated>
    
    <content type="html"><![CDATA[<h1 id="208-å®ç°å‰ç¼€æ ‘"><a href="#208-å®ç°å‰ç¼€æ ‘" class="headerlink" title="208 å®ç°å‰ç¼€æ ‘"></a>208 å®ç°å‰ç¼€æ ‘</h1><p>å‰ç¼€æ ‘å…¶å®å°±æ˜¯å­—å…¸æ ‘ï¼Œå®ç°ä¸€ä¸ª Trie (å‰ç¼€æ ‘)ï¼ŒåŒ…å« insert, search, å’Œ startsWith è¿™ä¸‰ä¸ªæ“ä½œã€‚</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ç¤ºä¾‹:</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Trie trie = <span class="keyword">new</span> Trie();</span><br><span class="line">trie.insert(<span class="string">"apple"</span>);</span><br><span class="line">trie.search(<span class="string">"apple"</span>);   <span class="comment">// è¿”å› true</span></span><br><span class="line">trie.search(<span class="string">"app"</span>);     <span class="comment">// è¿”å› false</span></span><br><span class="line">trie.startsWith(<span class="string">"app"</span>); <span class="comment">// è¿”å› true</span></span><br><span class="line">trie.insert(<span class="string">"app"</span>);</span><br><span class="line">trie.search(<span class="string">"app"</span>);     <span class="comment">// è¿”å› true</span></span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>è¿™ä¸ªæ•°æ®ç»“æ„ç›´æ¥çœ‹çš„æå®¢æ—¶é—´ä¸Šçš„è¯¾ç¨‹å­¦æ¥çš„ã€‚ä½†æ˜¯ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨ children çš„æ–¹å¼ç¡®å®ä¸é”™ï¼Œä¸»è¦å­—ç¬¦é›†æ•°é‡æœ‰é™ï¼ˆ26 ä¸ªè‹±æ–‡å­—æ¯ï¼‰ï¼Œå¦‚æœæ˜¯æ›´å¤§çš„å­—ç¬¦é›†ï¼Œä½¿ç”¨ map æ¥å­˜å‚¨ä¹Ÿä¸é”™ã€‚</p><blockquote><p>å¯ä»¥ç”¨æ¥è§£å†³è·¯ç”±è¡¨çš„æœ€é•¿å‰ç¼€åŒ¹é…é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ trie æ ‘æ¥åŠ å¿«æœç´¢åŒ¹é…çš„é€Ÿåº¦ã€‚</p></blockquote><h3 id="Round-One"><a href="#Round-One" class="headerlink" title="Round One"></a>Round One</h3><ol><li>trie æ ‘ä¸»è¦æ”¯æŒä¸¤ä¸ªæ“ä½œ<ol><li>insert - æ’å…¥çš„è¿‡ç¨‹ï¼Œå°±æ˜¯æ„å»ºè¿™ä¸ªæ ‘çš„è¿‡ç¨‹ï¼Œéœ€è¦åŠ¨æ€çš„åˆ›å»º children</li><li>search - æœç´¢çš„è¿‡ç¨‹ï¼Œéœ€è¦éªŒè¯å•è¯æ˜¯å¦å®Œå…¨åŒ¹é…ï¼Œå› æ­¤èŠ‚ç‚¹ä¸Šéœ€è¦ä¸€ä¸ª isEndOfWord çš„æ ‡è®°</li><li>starsWith - éªŒè¯æ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ ¼çš„å‰ç¼€ï¼Œç®€åŒ–ç‰ˆçš„ search</li></ol></li></ol><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="children-æ˜¯æ•°ç»„"><a href="#children-æ˜¯æ•°ç»„" class="headerlink" title="children æ˜¯æ•°ç»„"></a>children æ˜¯æ•°ç»„</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> TrieNode &#123;</span><br><span class="line">  char: <span class="built_in">string</span>;</span><br><span class="line">  isEndOfWord: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  children: TrieNode[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">char: <span class="built_in">string</span> = ""</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.char = char;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Trie &#123;</span><br><span class="line">  root: TrieNode;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  insert(word: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> char of word) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = char.charCodeAt(<span class="number">0</span>) - <span class="number">97</span>;</span><br><span class="line">      <span class="keyword">if</span> (!node.children[index]) &#123;</span><br><span class="line">        <span class="comment">// å½“å‰å­—ç¬¦ä¸å†childrenä¸­ï¼Œéœ€è¦åˆ›å»º</span></span><br><span class="line">        node.children[index] = <span class="keyword">new</span> TrieNode(char);</span><br><span class="line">      &#125;</span><br><span class="line">      node = node.children[index];</span><br><span class="line">    &#125;</span><br><span class="line">    node.isEndOfWord = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  search(word: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> char of word) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = char.charCodeAt(<span class="number">0</span>) - <span class="number">97</span>;</span><br><span class="line">      <span class="keyword">if</span> (!node.children[index]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      node = node.children[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node.isEndOfWord;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  startsWith(word: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> char of word) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = char.charCodeAt(<span class="number">0</span>) - <span class="number">97</span>;</span><br><span class="line">      <span class="keyword">if</span> (!node.children[index]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      node = node.children[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="children-æ˜¯-map"><a href="#children-æ˜¯-map" class="headerlink" title="children æ˜¯ map"></a>children æ˜¯ map</h3><p>map çš„æ–¹æ³•åœ¨ leetcode ä¸Šæ›´å¿«ï¼Œåº”è¯¥æ˜¯å› ä¸ºæ•°ç»„æ–¹æ³•é‡Œé¢ charCodeAt æ¯”è¾ƒè€—æ—¶å§ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> TrieNode &#123;</span><br><span class="line">    char: <span class="built_in">string</span>;</span><br><span class="line">    isEndOfWord: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">    children: Map&lt;<span class="built_in">string</span>,TrieNode&gt; = <span class="keyword">new</span> Map()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params">char:<span class="built_in">string</span> = ''</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.char = char;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Trie &#123;</span><br><span class="line">    root: TrieNode = <span class="keyword">new</span> TrieNode();</span><br><span class="line"></span><br><span class="line">    insert(word: <span class="built_in">string</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> char of word)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!node.children.has(char))&#123;</span><br><span class="line">                node.children.set(char, <span class="keyword">new</span> TrieNode(char));</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.children.get(char);</span><br><span class="line">        &#125;</span><br><span class="line">        node.isEndOfWord = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    search(word: <span class="built_in">string</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> char of word)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!node.children.has(char))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.children.get(char);</span><br><span class="line">        &#125;</span><br><span class="line">        retur node.isEndOfWord;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    startsWith(word: <span class="built_in">string</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> char of word)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!node.children.has(char))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.children.get(char);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;208-å®ç°å‰ç¼€æ ‘&quot;&gt;&lt;a href=&quot;#208-å®ç°å‰ç¼€æ ‘&quot; class=&quot;headerlink&quot; title=&quot;208 å®ç°å‰ç¼€æ ‘&quot;&gt;&lt;/a&gt;208 å®ç°å‰ç¼€æ ‘&lt;/h1&gt;&lt;p&gt;å‰ç¼€æ ‘å…¶å®å°±æ˜¯å­—å…¸æ ‘ï¼Œå®ç°ä¸€ä¸ª Trie (å‰ç¼€æ ‘)ï¼ŒåŒ…å« insert, sear</summary>
      
    
    
    
    
    <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
</feed>
